---
title: ç¼–å†™å’Œç»„ç»‡æµ‹è¯•
description: å­¦ä¹ å¦‚ä½•åœ¨Cypressä¸­ç»„ç»‡æµ‹è¯•åŠæ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼ŒåŒ…æ‹¬å¦‚ä½•ç¼–å†™æµ‹è¯•ï¼ˆå«é’©å­å‡½æ•°ã€æ’é™¤é¡¹å’Œé…ç½®ï¼‰ã€‚
sidebar_position: 30
---

<ProductHeading product="app" />

# ç¼–å†™å’Œç»„ç»‡æµ‹è¯•

:::info

##### <Icon name="question-circle" color="#4BBFD2" /> å­¦ä¹ å†…å®¹

- å¦‚ä½•åœ¨Cypressä¸­ç»„ç»‡æµ‹è¯•åŠæ”¯æŒçš„æ–‡ä»¶ç±»å‹
- å¦‚ä½•ç¼–å†™Cypressæµ‹è¯•ï¼ˆå«é’©å­å‡½æ•°ã€æ’é™¤é¡¹å’Œé…ç½®ï¼‰
- æµ‹è¯•çŠ¶æ€åŠå…¶è§£è¯»æ–¹æ³•
- ç¼–å†™Cypressæµ‹è¯•æ—¶è‡ªåŠ¨ç›‘è§†çš„æ–‡ä»¶

:::

## æ–‡ä»¶å¤¹ç»“æ„

æ·»åŠ æ–°é¡¹ç›®åï¼ŒCypressä¼šè‡ªåŠ¨ç”Ÿæˆæ¨èçš„æ–‡ä»¶å¤¹ç»“æ„ã€‚é»˜è®¤åˆ›å»ºå¦‚ä¸‹ï¼š

<Tabs>
<TabItem value="JavaScript" active>

```text
ç«¯åˆ°ç«¯æµ‹è¯•:
/cypress.config.js
/cypress/fixtures/example.json
/cypress/support/commands.js
/cypress/support/e2e.js

ç»„ä»¶æµ‹è¯•:
/cypress.config.js
/cypress/fixtures/example.json
/cypress/support/commands.js
/cypress/support/component.js
/cypress/support/component-index.html

ä¸¤è€…å…¼å¤‡:
/cypress.config.js
/cypress/fixtures/example.json
/cypress/support/commands.js
/cypress/support/e2e.js
/cypress/support/component.js
/cypress/support/component-index.html
```

</TabItem>
<TabItem value="TypeScript">

```text
ç«¯åˆ°ç«¯æµ‹è¯•:
/cypress.config.ts
/cypress/fixtures/example.json
/cypress/support/commands.ts
/cypress/support/e2e.ts

ç»„ä»¶æµ‹è¯•:
/cypress.config.ts
/cypress/fixtures/example.json
/cypress/support/commands.ts
/cypress/support/component.ts
/cypress/support/component-index.html

ä¸¤è€…å…¼å¤‡:
/cypress.config.ts
/cypress/fixtures/example.json
/cypress/support/commands.ts
/cypress/support/e2e.ts
/cypress/support/component.ts
/cypress/support/component-index.html
```

</TabItem>
</Tabs>

### é…ç½®æ–‡ä»¶å¤¹ç»“æ„

è™½ç„¶Cypresså…è®¸é…ç½®æµ‹è¯•ã€å¤¹å…·å’Œæ”¯æŒæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œä½†å¦‚æœæ˜¯é¦–æ¬¡åˆ›å»ºé¡¹ç›®ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸Šè¿°ç»“æ„ã€‚

å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹æ–‡ä»¶å¤¹é…ç½®ã€‚è¯¦è§[Cypressé…ç½®](/app/references/configuration)ã€‚

:::info

<strong>å“ªäº›æ–‡ä»¶åº”æ·»åŠ åˆ°.gitignoreï¼Ÿ</strong>

Cypressä¼šåˆ›å»º[`screenshotsFolder`](/app/references/configuration#Screenshots)å’Œ[`videosFolder`](/app/references/configuration#Videos)æ¥å­˜å‚¨æµ‹è¯•è¿‡ç¨‹ä¸­ç”Ÿæˆçš„æˆªå›¾å’Œè§†é¢‘ã€‚å»ºè®®å°†è¿™äº›æ–‡ä»¶å¤¹åŠ å…¥.gitignoreã€‚å¦‚æœé…ç½®æ–‡ä»¶ä¸­åŒ…å«æ•æ„Ÿç¯å¢ƒå˜é‡æˆ–ä½¿ç”¨äº†[`cypress.env.json`](/app/references/environment-variables#Option-2-cypressenvjson)ï¼Œä¹Ÿåº”å¿½ç•¥è¿™äº›æ–‡ä»¶ã€‚

:::

### æµ‹è¯•è§„èŒƒæ–‡ä»¶

æµ‹è¯•æ–‡ä»¶é»˜è®¤ä½äº`cypress/e2e`ï¼Œä½†å¯é€šè¿‡[é…ç½®](/app/references/configuration#e2e)ä¿®æ”¹è·¯å¾„ã€‚æ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š
- `.js`
- `.jsx`
- `.ts`
- `.tsx`
- `.coffee`
- `.cjsx`

CypressåŸç”Ÿæ”¯æŒ`ES2015`ï¼Œå¯ä½¿ç”¨`ES2015æ¨¡å—`æˆ–`CommonJSæ¨¡å—`ï¼Œæ”¯æŒ`import`å’Œ`require`å¼•å…¥npmåŒ…å’Œæœ¬åœ°æ¨¡å—ã€‚

:::info

<strong>ç¤ºä¾‹å‚è€ƒ</strong>

æŸ¥çœ‹æˆ‘ä»¬ä½¿ç”¨[ES2015å’ŒCommonJSæ¨¡å—](/app/references/recipes#Fundamentals)çš„ç¤ºä¾‹ã€‚

:::

è¦æŸ¥çœ‹æ‰€æœ‰Cypresså‘½ä»¤çš„ç¤ºä¾‹ï¼Œè¯·æ‰“å¼€`cypress/e2e`æ–‡ä»¶å¤¹ä¸­çš„[`2-advanced-examples`æ–‡ä»¶å¤¹](https://github.com/cypress-io/cypress-example-kitchensink/tree/master/cypress/e2e/2-advanced-examples)ã€‚

### å¤¹å…·æ–‡ä»¶

å¤¹å…·æ–‡ä»¶æ˜¯æµ‹è¯•ä½¿ç”¨çš„é™æ€æ•°æ®ï¼Œé»˜è®¤ä½äº`cypress/fixtures`ï¼Œå¯é€šè¿‡[é…ç½®](/app/references/configuration#Folders--Files)ä¿®æ”¹è·¯å¾„ã€‚é€šå¸¸ä¸[`cy.fixture()`](/api/commands/fixture)å‘½ä»¤é…åˆä½¿ç”¨ï¼Œå¸¸ç”¨äºæ¨¡æ‹Ÿ[ç½‘ç»œè¯·æ±‚](/app/guides/network-requests)ã€‚

### èµ„æºæ–‡ä»¶

æµ‹è¯•è¿è¡Œåä¼šç”Ÿæˆä¸€äº›åŒ…å«èµ„æºçš„æ–‡ä»¶å¤¹ï¼Œå»ºè®®å°†è¿™äº›æ–‡ä»¶å¤¹åŠ å…¥.gitignoreã€‚

#### ä¸‹è½½æ–‡ä»¶

æµ‹è¯•æ–‡ä»¶ä¸‹è½½åŠŸèƒ½æ—¶ä¸‹è½½çš„æ–‡ä»¶é»˜è®¤å­˜å‚¨åœ¨[`downloadsFolder`](/app/references/configuration#Downloads)ï¼ˆé»˜è®¤ä¸º`cypress/downloads`ï¼‰ã€‚

```text
/cypress
  /downloads
    - records.csv
```

#### æˆªå›¾æ–‡ä»¶

é€šè¿‡[cy.screenshot()](/api/commands/screenshot)å‘½ä»¤æˆ–æµ‹è¯•å¤±è´¥æ—¶è‡ªåŠ¨ç”Ÿæˆçš„æˆªå›¾é»˜è®¤å­˜å‚¨åœ¨[`screenshotsFolder`](/app/references/configuration#Screenshots)ï¼ˆé»˜è®¤ä¸º`cypress/screenshots`ï¼‰ã€‚

```text
/cypress
  /screenshots
    /app.cy.js
      - Navigates to main menu (failures).png
```

æ›´å¤šæˆªå›¾è®¾ç½®è¯·å‚é˜…[æˆªå›¾å’Œè§†é¢‘](/app/guides/screenshots-and-videos#Screenshots)ã€‚

#### è§†é¢‘æ–‡ä»¶

æµ‹è¯•è¿è¡Œçš„å½•åƒé»˜è®¤å­˜å‚¨åœ¨[`videosFolder`](/app/references/configuration#Videos)ï¼ˆé»˜è®¤ä¸º`cypress/videos`ï¼‰ã€‚

```text
/cypress
  /videos
    - app.cy.js.mp4
```

#### èµ„æºæ–‡ä»¶è·¯å¾„

ç”Ÿæˆçš„æˆªå›¾å’Œè§†é¢‘ä¼šä¿å­˜åœ¨å„è‡ªæ–‡ä»¶å¤¹ä¸­ã€‚æ–‡ä»¶è·¯å¾„ä¼šæ ¹æ®`specPattern`é€‰é¡¹ï¼ˆæˆ–é€šè¿‡`--spec`å‘½ä»¤è¡Œé€‰é¡¹æˆ–`spec`æ¨¡å—APIé€‰é¡¹ï¼‰å»é™¤æ‰€æœ‰è§„èŒƒæ–‡ä»¶å…±äº«çš„å…¬å…±ç¥–å…ˆè·¯å¾„ã€‚

**ç¤ºä¾‹1ï¼š**
- è§„èŒƒæ–‡ä»¶ï¼š`cypress/e2e/path/to/file/one.cy.js`
- å…¬å…±ç¥–å…ˆè·¯å¾„ï¼š`cypress/e2e/path/to/file`
- ç”Ÿæˆæˆªå›¾ï¼š`cypress/screenshots/one.cy.js/your-screenshot.png`
- ç”Ÿæˆè§†é¢‘ï¼š`cypress/videos/one.cy.js.mp4`

**ç¤ºä¾‹2ï¼š**
- è§„èŒƒæ–‡ä»¶ï¼š
  - `cypress/e2e/path/to/file/one.cy.js`
  - `cypress/e2e/path/to/two.cy.js`
- å…¬å…±ç¥–å…ˆè·¯å¾„ï¼š`cypress/e2e/path/to/`
- ç”Ÿæˆæˆªå›¾ï¼š
  - `cypress/screenshots/file/one.cy.js/your-screenshot.png`
  - `cypress/screenshots/two.cy.js/your-screenshot.png`
- ç”Ÿæˆè§†é¢‘ï¼š
  - `cypress/videos/file/one.cy.js.mp4`
  - `cypress/videos/two.cy.js.mp4`

#### Cypressäº‘ä¸­çš„èµ„æº

<DocsImage
  src="/img/cloud/features/test-replay/test-replay-ui.png"
  alt="æµ‹è¯•å›æ”¾ç•Œé¢"
/>

æ— éœ€æ‰‹åŠ¨ç®¡ç†èµ„æºï¼Œå¯é€šè¿‡[Cypressäº‘](/cloud/features/recorded-runs#Run-Details)ä¿å­˜ã€‚ä½¿ç”¨[<Logo src="/img/cloud/features/test-replay/replay-icon.svg" alt="å›æ”¾å›¾æ ‡" /> Cypressæµ‹è¯•å›æ”¾](/cloud/features/test-replay)åŠŸèƒ½å¯ä»¥å›æ”¾æµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ã€‚

æˆªå›¾å’Œè§†é¢‘ä¼šæ°¸ä¹…å­˜å‚¨ï¼Œé™„åŠ åˆ°ç›¸åº”çš„æµ‹è¯•ç»“æœä¸­ï¼Œä¾¿äºé€šè¿‡ç½‘é¡µç•Œé¢æµè§ˆæˆ–åˆ†äº«ã€‚æ›´å¤šè§†é¢‘è®¾ç½®è¯·å‚é˜…[æˆªå›¾å’Œè§†é¢‘](/app/guides/screenshots-and-videos#Screenshots)ã€‚

### æ’ä»¶æ–‡ä»¶

æ’ä»¶æ–‡ä»¶æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„Nodeæ–‡ä»¶ï¼Œåœ¨é¡¹ç›®åŠ è½½å‰ã€æµè§ˆå™¨å¯åŠ¨å‰å’Œæµ‹è¯•æ‰§è¡ŒæœŸé—´è¿è¡Œã€‚è™½ç„¶Cypressæµ‹è¯•åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œä½†æ’ä»¶æ–‡ä»¶åœ¨åå°Nodeè¿›ç¨‹ä¸­è¿è¡Œï¼Œä½¿æµ‹è¯•èƒ½å¤Ÿé€šè¿‡[cy.task()](/api/commands/task)å‘½ä»¤è®¿é—®æ–‡ä»¶ç³»ç»Ÿå’Œæ“ä½œç³»ç»Ÿã€‚

æ’ä»¶æ–‡ä»¶é€‚åˆå®šä¹‰å¦‚ä½•é€šè¿‡[é¢„å¤„ç†å™¨](/api/node-events/preprocessors-api)æ‰“åŒ…è§„èŒƒæ–‡ä»¶ï¼Œå¦‚ä½•é€šè¿‡[æµè§ˆå™¨å¯åŠ¨API](/api/node-events/browser-launch-api)æŸ¥æ‰¾å’Œå¯åŠ¨æµè§ˆå™¨ç­‰åŠŸèƒ½ã€‚è¯¦è§[æ’ä»¶æŒ‡å—](/app/plugins/plugins-guide)ã€‚

åˆå§‹å¯¼å…¥çš„æ’ä»¶æ–‡ä»¶å¯[é…ç½®ä¸ºå…¶ä»–æ–‡ä»¶](/app/references/configuration#Folders--Files)ã€‚

### æ”¯æŒæ–‡ä»¶

è¦åŒ…å«åœ¨æµ‹è¯•æ–‡ä»¶ä¹‹å‰è¿è¡Œçš„ä»£ç ï¼Œå¯è®¾ç½®[`supportFile`](/app/references/configuration#Testing-Type-Specific-Options)è·¯å¾„ã€‚é»˜è®¤æŸ¥æ‰¾ä»¥ä¸‹æ–‡ä»¶ï¼š

**ç»„ä»¶æµ‹è¯•ï¼š**
- `cypress/support/component.js`
- `cypress/support/component.jsx`
- `cypress/support/component.ts`
- `cypress/support/component.tsx`

**ç«¯åˆ°ç«¯æµ‹è¯•ï¼š**
- `cypress/support/e2e.js`
- `cypress/support/e2e.jsx`
- `cypress/support/e2e.ts`
- `cypress/support/e2e.tsx`

:::danger

<Icon name="exclamation-triangle" /> å¯¹äºç»™å®šçš„æµ‹è¯•ç±»å‹ï¼Œå­˜åœ¨å¤šä¸ªåŒ¹é…çš„`supportFile`æ–‡ä»¶ä¼šå¯¼è‡´CypressåŠ è½½æ—¶æŠ¥é”™ã€‚

:::

:::info

<Icon name="cogs" /> **æŒ‰æµ‹è¯•ç±»å‹é…ç½®supportFile**

æ ¹æ®ä½¿ç”¨çš„[æµ‹è¯•ç±»å‹](/app/core-concepts/testing-types)ï¼Œå¯ç›¸åº”é…ç½®`supportFile`ï¼š
- [ç»„ä»¶æµ‹è¯•](/app/references/configuration#component)
- [ç«¯åˆ°ç«¯æµ‹è¯•](/app/references/configuration#e2e)

:::

Cypressä¼šä¸ºæ¯ä¸ªé…ç½®çš„æµ‹è¯•ç±»å‹è‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ”¯æŒæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªæ³¨é‡Šæ‰çš„ç¤ºä¾‹ã€‚

è¯¥æ–‡ä»¶åœ¨**æ¯ä¸ª**è§„èŒƒæ–‡ä»¶ä¹‹å‰è¿è¡Œï¼Œä½œä¸ºä¾¿æ·æœºåˆ¶é¿å…æ‰‹åŠ¨å¯¼å…¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCypressä¼šè‡ªåŠ¨åŒ…å«ç‰¹å®šç±»å‹çš„æ”¯æŒæ–‡ä»¶ã€‚

æ”¯æŒæ–‡ä»¶é€‚åˆæ”¾ç½®å¯é‡ç”¨è¡Œä¸ºï¼Œå¦‚[è‡ªå®šä¹‰å‘½ä»¤](/api/cypress-api/custom-commands)æˆ–è¦åº”ç”¨äºæ‰€æœ‰è§„èŒƒæ–‡ä»¶çš„å…¨å±€è¦†ç›–ã€‚åˆå§‹å¯¼å…¥çš„æ”¯æŒæ–‡ä»¶å¯é…ç½®ä¸ºå…¶ä»–æ–‡ä»¶æˆ–å®Œå…¨å…³é—­ï¼Œä½¿ç”¨[supportFile](/app/references/configuration#Testing-Type-Specific-Options)é…ç½®ã€‚å¯ä»æ”¯æŒæ–‡ä»¶ä¸­`import`æˆ–`require`å…¶ä»–æ–‡ä»¶ä»¥ä¿æŒç»„ç»‡æœ‰åºã€‚

å¯åœ¨ä»»ä½•`cypress/support`æ–‡ä»¶ä¸­å®šä¹‰`before`æˆ–`beforeEach`è¡Œä¸ºï¼š

```javascript
beforeEach(() => {
  cy.log('æˆ‘åœ¨æ¯ä¸ªè§„èŒƒæ–‡ä»¶çš„æ¯ä¸ªæµ‹è¯•å‰è¿è¡Œ!!!!!!')
})
```

<DocsImage
  src="/img/app/core-concepts/global-hooks.png"
  alt="æµ‹è¯•çš„å…¨å±€é’©å­"
/>

:::info

**æ³¨æ„ï¼š** æ­¤ç¤ºä¾‹å‡è®¾æ‚¨å·²ç†Ÿæ‚‰Mocha[é’©å­](/app/core-concepts/writing-and-organizing-tests#Hooks)ã€‚

:::

#### æ‰§è¡Œé¡ºåº

Cypressåœ¨è§„èŒƒæ–‡ä»¶ä¹‹å‰æ‰§è¡Œæ”¯æŒæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š

**ç«¯åˆ°ç«¯æµ‹è¯•ç¤ºä¾‹ï¼š**
1. `support/e2e.js`ï¼ˆæ”¯æŒæ–‡ä»¶ï¼‰
2. `e2e/spec-a.cy.js`ï¼ˆè§„èŒƒæ–‡ä»¶ï¼‰

**ç»„ä»¶æµ‹è¯•ç¤ºä¾‹ï¼š**
1. `support/component.js`ï¼ˆæ”¯æŒæ–‡ä»¶ï¼‰
2. `components/Button/Button.cy.js`ï¼ˆè§„èŒƒæ–‡ä»¶ï¼‰

### æ•…éšœæ’æŸ¥

å¦‚æœCypressæ‰¾ä¸åˆ°è§„èŒƒæ–‡ä»¶ï¼Œå¯é€šè¿‡å¯ç”¨[è°ƒè¯•æ—¥å¿—](/app/references/troubleshooting#Print-DEBUG-logs)è¿›è¡Œæ’æŸ¥ï¼š

```shell
DEBUG=cypress:cli,cypress:data-context:sources:FileDataSource,cypress:data-context:sources:ProjectDataSource npx cypress open
## æˆ–
DEBUG=cypress:cli,cypress:data-context:sources:FileDataSource,cypress:data-context:sources:ProjectDataSource npx cypress run
```

## ç¼–å†™æµ‹è¯•

CypressåŸºäº[Mocha](/app/references/bundled-libraries#Mocha)å’Œ[Chai](/app/references/bundled-libraries#Chai)æ„å»ºï¼Œæ”¯æŒChaiçš„`BDD`å’Œ`TDD`æ–­è¨€é£æ ¼ã€‚ç¼–å†™çš„æµ‹è¯•å¤§å¤šéµå¾ªè¿™ç§é£æ ¼ã€‚

å¦‚æœæ‚¨ç†Ÿæ‚‰JavaScriptæµ‹è¯•ç¼–å†™ï¼Œé‚£ä¹ˆç¼–å†™Cypressæµ‹è¯•å°†éå¸¸ç®€å•ã€‚

:::info

è¦å¼€å§‹ä¸ºåº”ç”¨ç¼–å†™æµ‹è¯•ï¼Œè¯·éµå¾ª[ç»„ä»¶æµ‹è¯•](/app/component-testing/get-started)æˆ–[ç«¯åˆ°ç«¯æµ‹è¯•](/app/end-to-end-testing/writing-your-first-end-to-end-test)æŒ‡å—ã€‚

:::

:::info

éœ€è¦ä½ä»£ç æ–¹å¼åˆ›å»ºæµ‹è¯•ï¼Ÿä½¿ç”¨[Cypress Studio](/app/guides/cypress-studio)è®°å½•æµè§ˆå™¨äº¤äº’ã€‚

:::

### æµ‹è¯•ç»“æ„

æµ‹è¯•æ¥å£å€Ÿé‰´[Mocha](/app/references/bundled-libraries#Mocha)ï¼Œæä¾›`describe()`ã€`context()`ã€`it()`å’Œ`specify()`ã€‚

`context()`ç­‰åŒäº`describe()`ï¼Œ`specify()`ç­‰åŒäº`it()`ï¼Œå¯æ ¹æ®å–œå¥½é€‰æ‹©æœ¯è¯­ã€‚

```javascript
// -- åº”ç”¨ä»£ç  --
function add(a, b) {
  return a + b
}

function subtract(a, b) {
  return a - b
}

function divide(a, b) {
  return a / b
}

function multiply(a, b) {
  return a * b
}
// -- åº”ç”¨ä»£ç ç»“æŸ --

// -- Cypressæµ‹è¯• --
describe('æ•°å­¦å‡½æ•°å•å…ƒæµ‹è¯•', () => {
  context('æ•°å­¦è¿ç®—', () => {
    it('å¯ä»¥ç›¸åŠ æ•°å­—', () => {
      expect(add(1, 2)).to.eq(3)
    })

    it('å¯ä»¥ç›¸å‡æ•°å­—', () => {
      expect(subtract(5, 12)).to.eq(-7)
    })

    specify('å¯ä»¥ç›¸é™¤æ•°å­—', () => {
      expect(divide(27, 9)).to.eq(3)
    })

    specify('å¯ä»¥ç›¸ä¹˜æ•°å­—', () => {
      expect(multiply(5, 4)).to.eq(20)
    })
  })
})
// -- æµ‹è¯•ç»“æŸ --
```

### é’©å­å‡½æ•°

Cypressè¿˜æä¾›é’©å­å‡½æ•°ï¼ˆå€Ÿé‰´è‡ª[Mocha](/app/references/bundled-libraries#Mocha)ï¼‰ã€‚

è¿™äº›é’©å­æœ‰åŠ©äºåœ¨æµ‹è¯•é›†ä¹‹å‰æˆ–æ¯ä¸ªæµ‹è¯•ä¹‹å‰è®¾ç½®æ¡ä»¶ï¼Œä¹Ÿä¾¿äºåœ¨æµ‹è¯•é›†ä¹‹åæˆ–æ¯ä¸ªæµ‹è¯•ä¹‹åæ¸…ç†æ¡ä»¶ã€‚

```javascript
before(() => {
  // æ ¹çº§é’©å­
  // æ‰€æœ‰æµ‹è¯•å‰è¿è¡Œä¸€æ¬¡
})

beforeEach(() => {
  // æ ¹çº§é’©å­
  // æ¯ä¸ªæµ‹è¯•å—å‰è¿è¡Œ
})

afterEach(() => {
  // æ¯ä¸ªæµ‹è¯•å—åè¿è¡Œ
})

after(() => {
  // æ‰€æœ‰æµ‹è¯•å®Œæˆåè¿è¡Œä¸€æ¬¡
})

describe('é’©å­å‡½æ•°', () => {
  before(() => {
    // è¯¥åŒºå—æ‰€æœ‰æµ‹è¯•å‰è¿è¡Œä¸€æ¬¡
  })

  beforeEach(() => {
    // è¯¥åŒºå—æ¯ä¸ªæµ‹è¯•å‰è¿è¡Œ
  })

  afterEach(() => {
    // è¯¥åŒºå—æ¯ä¸ªæµ‹è¯•åè¿è¡Œ
  })

  after(() => {
    // è¯¥åŒºå—æ‰€æœ‰æµ‹è¯•åè¿è¡Œä¸€æ¬¡
  })
})
```

#### é’©å­å’Œæµ‹è¯•æ‰§è¡Œé¡ºåºï¼š
1. æ‰€æœ‰`before()`é’©å­è¿è¡Œï¼ˆä¸€æ¬¡ï¼‰
2. ä»»ä½•`beforeEach()`é’©å­è¿è¡Œ
3. æµ‹è¯•è¿è¡Œ
4. ä»»ä½•`afterEach()`é’©å­è¿è¡Œ
5. æ‰€æœ‰`after()`é’©å­è¿è¡Œï¼ˆä¸€æ¬¡ï¼‰

:::danger

ğŸš¨ åœ¨ç¼–å†™`after()`æˆ–`afterEach()`é’©å­å‰ï¼Œè¯·é˜…è¯»[å…³äºä½¿ç”¨after()æˆ–afterEach()æ¸…ç†çŠ¶æ€çš„åæ¨¡å¼æ€è€ƒ](/app/core-concepts/best-practices#Using-after-Or-afterEach-Hooks)ã€‚

:::

### æ’é™¤å’ŒåŒ…å«æµ‹è¯•

è¦è¿è¡Œç‰¹å®šå¥—ä»¶æˆ–æµ‹è¯•ï¼Œåœ¨å‡½æ•°åè¿½åŠ `.only`ã€‚åµŒå¥—å¥—ä»¶ä¹Ÿä¼šæ‰§è¡Œã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸€æ¬¡è¿è¡Œä¸€ä¸ªæµ‹è¯•ï¼Œæ˜¯æ¨èçš„æµ‹è¯•å¥—ä»¶ç¼–å†™æ–¹å¼ã€‚

```javascript
// -- åº”ç”¨ä»£ç  --
function fizzbuzz(num) {
  if (num % 3 === 0 && num % 5 === 0) {
    return 'fizzbuzz'
  }

  if (num % 3 === 0) {
    return 'fizz'
  }

  if (num % 5 === 0) {
    return 'buzz'
  }
}
// -- åº”ç”¨ä»£ç ç»“æŸ --

// -- Cypressæµ‹è¯• --
describe('FizzBuzzå•å…ƒæµ‹è¯•', () => {
  function numsExpectedToEq(arr, expected) {
    arr.forEach((num) => {
      expect(fizzbuzz(num)).to.eq(expected)
    })
  }

  // ä»…è¿è¡Œæ­¤æµ‹è¯•
  it.only('å½“æ•°å­—æ˜¯3çš„å€æ•°æ—¶è¿”å›"fizz"', () => {
    numsExpectedToEq([9, 12, 18], 'fizz')
  })

  it('å½“æ•°å­—æ˜¯5çš„å€æ•°æ—¶è¿”å›"buzz"', () => {
    numsExpectedToEq([10, 20, 25], 'buzz')
  })

  it('å½“æ•°å­—æ˜¯3å’Œ5çš„å€æ•°æ—¶è¿”å›"fizzbuzz"', () => {
    numsExpectedToEq([15, 30, 60], 'fizzbuzz')
  })
})
```

è¦è·³è¿‡ç‰¹å®šå¥—ä»¶æˆ–æµ‹è¯•ï¼Œåœ¨å‡½æ•°åè¿½åŠ `.skip()`ã€‚åµŒå¥—å¥—ä»¶ä¹Ÿä¼šè·³è¿‡ã€‚

```javascript
it.skip('å½“æ•°å­—æ˜¯3çš„å€æ•°æ—¶è¿”å›"fizz"', () => {
  numsExpectedToEq([9, 12, 18], 'fizz')
})
```

### æµ‹è¯•éš”ç¦»

:::tip

<Icon name="check-circle" color="green" /> **æœ€ä½³å®è·µï¼š** æµ‹è¯•åº”å§‹ç»ˆèƒ½å¤Ÿç‹¬ç«‹è¿è¡Œ**ä¸”ä»èƒ½é€šè¿‡**ã€‚

:::

æ­£å¦‚æˆ‘ä»¬çš„ä½¿å‘½æ‰€è¿°ï¼Œæˆ‘ä»¬è‡´åŠ›äºæ¨å¹¿çœŸæ­£æœ‰æ•ˆçš„æµ‹è¯•æµç¨‹ï¼Œå¹¶æ„å»ºCypressä»¥å¼•å¯¼å¼€å‘äººå‘˜ä»ä¸€å¼€å§‹å°±ç¼–å†™ç‹¬ç«‹æµ‹è¯•ã€‚

æˆ‘ä»¬é€šè¿‡åœ¨æ¯æ¬¡æµ‹è¯•å‰æ¸…ç†æµ‹è¯•çŠ¶æ€å’Œæµè§ˆå™¨ä¸Šä¸‹æ–‡æ¥ç¡®ä¿ä¸€ä¸ªæµ‹è¯•çš„æ“ä½œä¸ä¼šå½±å“åç»­æµ‹è¯•ã€‚æ¯ä¸ªæµ‹è¯•çš„ç›®æ ‡åº”è¯¥æ˜¯**å¯é åœ°é€šè¿‡**ï¼Œæ— è®ºæ˜¯ç‹¬ç«‹è¿è¡Œè¿˜æ˜¯ä¸å…¶ä»–æµ‹è¯•è¿ç»­è¿è¡Œã€‚ä¾èµ–äºå…ˆå‰æµ‹è¯•çŠ¶æ€çš„æµ‹è¯•å¯èƒ½å¯¼è‡´ä¸ç¡®å®šçš„æµ‹è¯•å¤±è´¥ï¼Œå¢åŠ è°ƒè¯•éš¾åº¦ã€‚

åœ¨å¹²å‡€çš„æµè§ˆå™¨ä¸Šä¸‹æ–‡ä¸­è¿è¡Œæµ‹è¯•çš„è¡Œä¸ºç§°ä¸º`testIsolation`ã€‚

æµ‹è¯•éš”ç¦»æ˜¯å…¨å±€é…ç½®ï¼Œå¯é€šè¿‡[`testIsolation`](/app/references/configuration#e2e)é€‰é¡¹åœ¨ç«¯åˆ°ç«¯æµ‹è¯•çš„`describe`çº§åˆ«è¦†ç›–ã€‚

è¦äº†è§£æ›´å¤šå…³äºæ­¤è¡Œä¸ºåŠç¦ç”¨å®ƒçš„æƒè¡¡ï¼Œè¯·å‚é˜…[æµ‹è¯•éš”ç¦»æŒ‡å—](/app/core-concepts/test-isolation)ã€‚

### æµ‹è¯•é…ç½®

å¯ä»¥ä¸ºå¥—ä»¶æˆ–æµ‹è¯•åº”ç”¨[æµ‹è¯•é…ç½®](/app/references/configuration#Test-Configuration)å€¼ã€‚å°†é…ç½®å¯¹è±¡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™æµ‹è¯•æˆ–å¥—ä»¶å‡½æ•°ã€‚

è¿™äº›é…ç½®å°†åœ¨è®¾ç½®å®ƒä»¬çš„å¥—ä»¶æˆ–æµ‹è¯•æœŸé—´ç”Ÿæ•ˆï¼Œå®Œæˆåæ¢å¤ä¸ºä¹‹å‰çš„é»˜è®¤å€¼ã€‚

#### è¯­æ³•

```javascript
describe(name, config, fn)
context(name, config, fn)
it(name, config, fn)
specify(name, config, fn)
```

#### å…è®¸çš„é…ç½®å€¼

:::caution

**æ³¨æ„ï¼š** æŸäº›é…ç½®å€¼æ˜¯åªè¯»çš„ï¼Œæ— æ³•é€šè¿‡æµ‹è¯•é…ç½®æ›´æ”¹ã€‚è¯·æŸ¥çœ‹[æµ‹è¯•é…ç½®é€‰é¡¹](/app/references/configuration#Test-Configuration)åˆ—è¡¨ã€‚

:::

#### å¥—ä»¶é…ç½®

å¦‚æœæƒ³é’ˆå¯¹ç‰¹å®šæµè§ˆå™¨è¿è¡Œæˆ–æ’é™¤ä¸€ç»„æµ‹è¯•ï¼Œå¯ä»¥åœ¨å¥—ä»¶é…ç½®ä¸­è¦†ç›–`browser`é…ç½®ã€‚`browser`é€‰é¡¹æ¥å—ä¸[Cypress.isBrowser()](/api/cypress-api/isbrowser)ç›¸åŒçš„å‚æ•°ã€‚

ä»¥ä¸‹å¥—ä»¶æµ‹è¯•åœ¨Chromeæµè§ˆå™¨ä¸­è¿è¡Œæ—¶ä¼šè¢«è·³è¿‡ã€‚

```js
describe('éChromeç¯å¢ƒ', { browser: '!chrome' }, () => {
  it('æ˜¾ç¤ºè­¦å‘Š', () => {
    cy.get('[data-testid="browser-warning"]').should(
      'contain',
      'ä¸ºäº†æœ€ä½³æµè§ˆä½“éªŒï¼Œè¯·ä½¿ç”¨Chromeæµè§ˆå™¨'
    )
  })

  it('é“¾æ¥åˆ°æµè§ˆå™¨å…¼å®¹æ€§æ–‡æ¡£', () => {
    cy.get('a.browser-compat')
      .should('have.attr', 'href')
      .and('include', 'browser-compatibility')
  })
})
```

ä»¥ä¸‹å¥—ä»¶æµ‹è¯•ä»…åœ¨Firefoxæµè§ˆå™¨ä¸­æ‰§è¡Œã€‚å…¶ä¸­ä¸€ä¸ªæµ‹è¯•ä¼šè¦†ç›–è§†å£åˆ†è¾¨ç‡ï¼Œå¹¶å°†å½“å‰ç¯å¢ƒå˜é‡ä¸æä¾›çš„ç¯å¢ƒå˜é‡åˆå¹¶ã€‚

```js
describe(
  'Firefoxç¯å¢ƒ',
  {
    browser: 'firefox',
    viewportWidth: 1024,
    viewportHeight: 700,
    env: {
      DEMO: true,
      API: 'http://localhost:9000',
    },
  },
  () => {
    it('è®¾ç½®é¢„æœŸè§†å£å’ŒAPI URL', () => {
      expect(cy.config('viewportWidth')).to.equal(1024)
      expect(cy.config('viewportHeight')).to.equal(700)
      expect(cy.env('API')).to.equal('http://localhost:9000')
    })

    it(
      'ä½¿ç”¨æœ€è¿‘çš„APIç¯å¢ƒå˜é‡',
      {
        env: {
          API: 'http://localhost:3003',
        },
      },
      () => {
        expect(cy.env('API')).to.equal('http://localhost:3003')
        // å…¶ä»–ç¯å¢ƒå˜é‡ä¿æŒä¸å˜
        expect(cy.env('DEMO')).to.be.true
      }
    )
  }
)
```

#### å•ä¸ªæµ‹è¯•é…ç½®

å¯ä»¥é…ç½®`cypress run`æˆ–`cypress open`æœŸé—´çš„é‡è¯•æ¬¡æ•°ã€‚è¯¦è§[æµ‹è¯•é‡è¯•](/app/guides/test-retries)ã€‚

```js
it('æœªè®¤è¯ç”¨æˆ·åº”é‡å®šå‘åˆ°ç™»å½•é¡µ', {
    retries: {
      runMode: 3,
      openMode: 2
    }
  } () => {
    // æµ‹è¯•ä»£ç ...
  })
})
```

### åŠ¨æ€ç”Ÿæˆæµ‹è¯•

å¯ä»¥ä½¿ç”¨JavaScriptåŠ¨æ€ç”Ÿæˆæµ‹è¯•ã€‚

```javascript
describe('å¦‚æœåº”ç”¨ä½¿ç”¨jQuery', () => {
  ;['mouseover', 'mouseout', 'mouseenter', 'mouseleave'].forEach((event) => {
    it('è§¦å‘äº‹ä»¶: ' + event, () => {
      // å¦‚æœåº”ç”¨ä½¿ç”¨jQueryï¼Œå¯ä»¥è§¦å‘jQueryäº‹ä»¶
      cy.get('#with-jquery')
        .invoke('trigger', event)
        .get('[data-testid="messages"]')
        .should('contain', 'äº‹ä»¶ ' + event + 'å·²è§¦å‘')
    })
  })
})
```

ä¸Šè¿°ä»£ç å°†ç”ŸæˆåŒ…å«4ä¸ªæµ‹è¯•çš„å¥—ä»¶ï¼š

```text
> å¦‚æœåº”ç”¨ä½¿ç”¨jQuery
  > è§¦å‘äº‹ä»¶: 'mouseover'
  > è§¦å‘äº‹ä»¶: 'mouseout'
  > è§¦å‘äº‹ä»¶: 'mouseenter'
  > è§¦å‘äº‹ä»¶: 'mouseleave'
```

### æ–­è¨€é£æ ¼

Cypressæ”¯æŒBDDï¼ˆ`expect`/`should`ï¼‰å’ŒTDDï¼ˆ`assert`ï¼‰é£æ ¼çš„æ™®é€šæ–­è¨€ã€‚[é˜…è¯»æ›´å¤šå…³äºæ™®é€šæ–­è¨€çš„å†…å®¹ã€‚](/app/references/assertions)

```javascript
it('å¯ä»¥ç›¸åŠ æ•°å­—', () => {
  expect(add(1, 2)).to.eq(3)
})

it('å¯ä»¥ç›¸å‡æ•°å­—', () => {
  assert.equal(subtract(5, 12), -7, 'è¿™äº›æ•°å­—ç›¸ç­‰')
})
```

[.should()](/api/commands/should)å‘½ä»¤åŠå…¶åˆ«å[.and()](/api/commands/and)ä¹Ÿå¯ç”¨äºæ›´è½»æ¾åœ°ä»Cypresså‘½ä»¤é“¾ä¸­æ–­è¨€ã€‚[é˜…è¯»æ›´å¤šå…³äºæ–­è¨€çš„å†…å®¹ã€‚](/app/core-concepts/introduction-to-cypress#Assertions)

```js
cy.wrap(add(1, 2)).should('equal', 3)
```

## è¿è¡Œæµ‹è¯•

å¯ä»¥é€šè¿‡ç‚¹å‡»è§„èŒƒæ–‡ä»¶åè¿è¡Œæµ‹è¯•ã€‚ä¾‹å¦‚[Cypress RealWorld App](https://github.com/cypress-io/cypress-example-realworld)æœ‰å¤šä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ç‚¹å‡»"new-transaction.spec.ts"æµ‹è¯•æ–‡ä»¶æ¥è¿è¡Œå®ƒã€‚

<DocsImage
  src="/img/app/core-concepts/run-single-spec.gif"
  alt="è¿è¡Œå•ä¸ªè§„èŒƒæ–‡ä»¶"
/>

## æµ‹è¯•çŠ¶æ€

Cypressè§„èŒƒæ–‡ä»¶å®Œæˆåï¼Œæ¯ä¸ªæµ‹è¯•æœ‰å››ç§çŠ¶æ€ä¹‹ä¸€ï¼š**é€šè¿‡**ã€**å¤±è´¥**ã€**å¾…å®š**æˆ–**è·³è¿‡**ã€‚è¿™äº›çŠ¶æ€çš„è¡Œä¸ºç»§æ‰¿è‡ªMochaï¼Œå› ä¸ºè¿™æ˜¯Cypressä½¿ç”¨çš„æµ‹è¯•è¿è¡Œå™¨ã€‚

### é€šè¿‡

é€šè¿‡çš„æµ‹è¯•æˆåŠŸå®Œæˆäº†æ‰€æœ‰é’©å­å’Œå‘½ä»¤ï¼Œæ²¡æœ‰æ–­è¨€å¤±è´¥ã€‚ä¸‹é¢çš„æµ‹è¯•æˆªå›¾æ˜¾ç¤ºäº†ä¸€ä¸ªé€šè¿‡çš„æµ‹è¯•ï¼š

<DocsImage
  src="/img/app/core-concepts/todo-mvc-passing-test.png"
  alt="Cypressæ˜¾ç¤ºå•ä¸ªé€šè¿‡æµ‹è¯•"
/>

æ³¨æ„ï¼Œæµ‹è¯•å¯èƒ½åœ¨å‡ æ¬¡[æµ‹è¯•é‡è¯•](/app/guides/test-retries)åé€šè¿‡ã€‚æ­¤æ—¶å‘½ä»¤æ—¥å¿—ä¼šæ˜¾ç¤ºä¸€äº›å¤±è´¥çš„å°è¯•ï¼Œä½†æœ€ç»ˆæ•´ä¸ªæµ‹è¯•ä¼šæˆåŠŸå®Œæˆã€‚

### å¤±è´¥

å¥½æ¶ˆæ¯ - å¤±è´¥çš„é’©å­æˆ–æµ‹è¯•å‘ç°äº†é—®é¢˜ã€‚æ›´ç³Ÿçš„æƒ…å†µå¯èƒ½æ˜¯ç”¨æˆ·é‡åˆ°è¿™ä¸ªé”™è¯¯ï¼

<DocsImage
  src="/img/app/core-concepts/todo-mvc-failing-test.png"
  alt="Cypressæ˜¾ç¤ºå•ä¸ªå¤±è´¥æµ‹è¯•"
/>

æµ‹è¯•å¤±è´¥åï¼Œ[æµ‹è¯•å›æ”¾](/cloud/features/test-replay)æˆ–Cypressäº‘çš„æˆªå›¾å’Œè§†é¢‘å¯ä»¥å¸®åŠ©æ‰¾åˆ°é—®é¢˜ä»¥ä¾¿ä¿®å¤ã€‚

### å¾…å®š

å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼ç¼–å†™_å ä½ç¬¦_æµ‹è¯•ï¼ŒCypressçŸ¥é“ä¸è¦è¿è¡Œå®ƒä»¬ã€‚æ­¤å¤–ï¼Œå¯ä»¥æ¡ä»¶æ€§åœ°æŒ‡å®šåº”è¿è¡Œçš„æµè§ˆå™¨å’Œæµ‹è¯•ï¼ŒåŒ…æ‹¬å¦‚æœæµ‹è¯•ä¸åº”åœ¨å½“å‰æµ‹è¯•çš„æµè§ˆå™¨ä¸­è¿è¡Œï¼Œåˆ™æ ‡è®°ä¸º_å¾…å®š_ã€‚

Cypresså°†ä»¥ä¸‹æ‰€æœ‰æµ‹è¯•æ ‡è®°ä¸º_å¾…å®š_ã€‚

```js
describe('TodoMVC', () => {
  it('å°šæœªç¼–å†™')

  it.skip('æ·»åŠ 2ä¸ªå¾…åŠäº‹é¡¹', function () {
    cy.visit('/')
    cy.get('[data-testid="new-todo"]').as('new').type('å­¦ä¹ æµ‹è¯•{enter}')

    cy.get('@new').type('ä¿æŒé…·{enter}')

    cy.get('[data-testid="todo-list"] li').should('have.length', 100)
  })

  xit('å¦ä¸€ä¸ªæµ‹è¯•', () => {
    expect(false).to.true
  })

  it('ä»…æµ‹è¯•chrome', { browser: 'chrome' }, () => {
    cy.visit('/')
    cy.contains('å¾…åŠäº‹é¡¹')
  })
})
```

å½“Cypresså®Œæˆè¿è¡Œè§„èŒƒæ–‡ä»¶æ—¶ï¼Œä¸Šè¿°å››ä¸ªæµ‹è¯•éƒ½è¢«æ ‡è®°ä¸º_å¾…å®š_ã€‚

<DocsImage
  src="/img/app/core-concepts/todo-mvc-pending-tests.png"
  alt="Cypressæ˜¾ç¤ºå››ä¸ªå¾…å®šæµ‹è¯•"
/>

æ‰€ä»¥è¯·è®°ä½ - å¦‚æœæ‚¨ï¼ˆæµ‹è¯•ç¼–å†™è€…ï¼‰é€šè¿‡ä¸Šè¿°ä¸‰ç§æ–¹å¼ä¹‹ä¸€æœ‰æ„è·³è¿‡æµ‹è¯•ï¼ŒCypressä¼šå°†å…¶è®¡ä¸º_å¾…å®š_æµ‹è¯•ã€‚

### è·³è¿‡

æœ€åä¸€ä¸ªæµ‹è¯•çŠ¶æ€é€‚ç”¨äºæ‚¨_æ‰“ç®—_è¿è¡Œä½†ç”±äºæŸäº›è¿è¡Œæ—¶é”™è¯¯è€Œè·³è¿‡çš„æµ‹è¯•ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ç»„æµ‹è¯•å…±äº«ç›¸åŒçš„`beforeEach`é’©å­ - æ‚¨åœ¨`beforeEach`é’©å­ä¸­è®¿é—®é¡µé¢ã€‚

```js
/// <reference types="cypress" />

describe('TodoMVC', () => {
  beforeEach(() => {
    cy.visit('/')
  })

  it('åˆå§‹éšè—é¡µè„š', () => {
    cy.get('[data-testid="filters"]').should('not.exist')
  })

  it('æ·»åŠ 2ä¸ªå¾…åŠäº‹é¡¹', () => {
    cy.get('[data-testid="new-todo"]').as('new').type('å­¦ä¹ æµ‹è¯•{enter}')

    cy.get('@new').type('ä¿æŒé…·{enter}')

    cy.get('[data-testid="todo-list"] li').should('have.length', 2)
  })
})
```

å¦‚æœ`beforeEach`é’©å­å®Œæˆä¸”ä¸¤ä¸ªæµ‹è¯•éƒ½å®Œæˆï¼Œåˆ™ä¸¤ä¸ªæµ‹è¯•é€šè¿‡ã€‚

<DocsImage
  src="/img/app/core-concepts/todo-mvc-2-tests-passing.png"
  alt="Cypressæ˜¾ç¤ºä¸¤ä¸ªé€šè¿‡æµ‹è¯•"
/>

ä½†å¦‚æœ`beforeEach`é’©å­ä¸­çš„å‘½ä»¤å¤±è´¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é¡µé¢`/does-not-exist`è€Œä¸æ˜¯`/`ã€‚å¦‚æœæˆ‘ä»¬æ›´æ”¹`beforeEach`ä½¿å…¶å¤±è´¥ï¼š

```js
beforeEach(() => {
  cy.visit('/does-not-exist')
})
```

å½“Cypresså¼€å§‹æ‰§è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•æ—¶ï¼Œ`beforeEach`é’©å­å¤±è´¥ã€‚ç°åœ¨ç¬¬ä¸€ä¸ªæµ‹è¯•è¢«æ ‡è®°ä¸º**å¤±è´¥**ã€‚ä½†æ˜¯å¦‚æœ`beforeEach`é’©å­å·²ç»å¤±è´¥ä¸€æ¬¡ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ç¬¬äºŒä¸ªæµ‹è¯•ä¹‹å‰å†æ¬¡æ‰§è¡Œå®ƒï¼Ÿå®ƒä¼šä»¥åŒæ ·çš„æ–¹å¼å¤±è´¥ï¼å› æ­¤Cypress_è·³è¿‡_è¯¥å—ä¸­çš„å‰©ä½™æµ‹è¯•ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿä¼šå› `beforeEach`é’©å­å¤±è´¥è€Œå¤±è´¥ã€‚

<DocsImage
  src="/img/app/core-concepts/todo-mvc-failed-and-skipped-tests.png"
  alt="Cypressæ˜¾ç¤ºä¸€ä¸ªå¤±è´¥å’Œä¸€ä¸ªè·³è¿‡æµ‹è¯•"
/>

å¦‚æœæˆ‘ä»¬æŠ˜å æµ‹è¯•å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æ ‡è®°è·³è¿‡æµ‹è¯•"æ·»åŠ 2ä¸ªå¾…åŠäº‹é¡¹"çš„ç©ºæ¡†ã€‚

<DocsImage
  src="/img/app/core-concepts/todo-mvc-skipped-test.png"
  alt="Cypressæ˜¾ç¤ºä¸€ä¸ªè·³è¿‡æµ‹è¯•"
/>

é‚£äº›æœ¬åº”æ‰§è¡Œä½†ç”±äºæŸäº›è¿è¡Œæ—¶é—®é¢˜è€Œè·³è¿‡çš„æµ‹è¯•è¢«Cypressæ ‡è®°ä¸º"è·³è¿‡"ã€‚è¿™é€šå¸¸åœ¨`before`ã€`beforeEach`æˆ–`afterEach`é’©å­å¤±è´¥æ—¶è§‚å¯Ÿåˆ°ã€‚

## ç›‘è§†æµ‹è¯•

ä½¿ç”¨[cypress open](/app/references/command-line#cypress-open)è¿è¡Œæ—¶ï¼ŒCypressä¼šç›‘è§†æ–‡ä»¶ç³»ç»Ÿä»¥æ£€æµ‹è§„èŒƒæ–‡ä»¶çš„æ›´æ”¹ã€‚æ·»åŠ æˆ–æ›´æ–°æµ‹è¯•åä¸ä¹…ï¼ŒCypressä¼šé‡æ–°åŠ è½½å¹¶è¿è¡Œè¯¥è§„èŒƒæ–‡ä»¶ä¸­çš„æ‰€æœ‰æµ‹è¯•ã€‚

è¿™æä¾›äº†é«˜æ•ˆçš„å¼€å‘ä½“éªŒï¼Œå› ä¸ºæ‚¨å¯ä»¥åœ¨å®ç°åŠŸèƒ½æ—¶æ·»åŠ å’Œç¼–è¾‘æµ‹è¯•ï¼Œè€ŒCypressç”¨æˆ·ç•Œé¢å§‹ç»ˆåæ˜ æœ€æ–°ç¼–è¾‘çš„ç»“æœã€‚

:::info

è®°å¾—ä½¿ç”¨[`.only`](/app/core-concepts/writing-and-organizing-tests#Excluding-and-Including-Tests)æ¥é™åˆ¶è¿è¡Œçš„æµ‹è¯•ï¼šå½“æ‚¨åœ¨ä¸€ä¸ªè§„èŒƒæ–‡ä»¶ä¸­æœ‰è®¸å¤šä¸æ–­ç¼–è¾‘çš„æµ‹è¯•æ—¶ï¼Œè¿™å°¤å…¶æœ‰ç”¨ï¼›ä¹Ÿå¯ä»¥è€ƒè™‘å°†æµ‹è¯•æ‹†åˆ†ä¸ºæ¯ä¸ªå¤„ç†é€»è¾‘ç›¸å…³è¡Œä¸ºçš„è¾ƒå°æ–‡ä»¶ã€‚

:::

### ç›‘è§†ä»€ä¹ˆï¼Ÿ

#### æ–‡ä»¶

- [Cypressé…ç½®](/app/references/configuration)
- [cypress.env.json](/app/references/environment-variables)

#### æ–‡ä»¶å¤¹

- ç«¯åˆ°ç«¯ç›®å½•ï¼ˆé»˜è®¤ä¸º`cypress/e2e/`ï¼‰
- æ”¯æŒç›®å½•ï¼ˆé»˜è®¤ä¸º`cypress/support/`ï¼‰

ç›‘è§†æ–‡ä»¶å¤¹ã€æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ä»¥åŠæ‰€æœ‰å­æ–‡ä»¶å¤¹åŠå…¶æ–‡ä»¶ï¼ˆé€’å½’ï¼‰ã€‚

:::info

è¿™äº›æ–‡ä»¶å¤¹è·¯å¾„æŒ‡çš„æ˜¯[é»˜è®¤æ–‡ä»¶å¤¹è·¯å¾„](/app/references/configuration#Folders--Files)ã€‚å¦‚æœé…ç½®äº†Cypressä½¿ç”¨ä¸åŒçš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œåˆ™ä¼šç›‘è§†ç‰¹å®šäºé…ç½®çš„æ–‡ä»¶å¤¹ã€‚

:::

### ä¸ç›‘è§†ä»€ä¹ˆï¼Ÿ

å…¶ä»–æ‰€æœ‰å†…å®¹ï¼›åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å†…å®¹ï¼š

- åº”ç”¨ç¨‹åºä»£ç 
- `node_modules`
- `cypress/fixtures/`

å¦‚æœä½¿ç”¨ç°ä»£åŸºäºJSçš„Webåº”ç”¨ç¨‹åºå †æ ˆè¿›è¡Œå¼€å‘ï¼Œåˆ™å¯èƒ½æ”¯æŒæŸç§å½¢å¼çš„çƒ­æ¨¡å—æ›¿æ¢ï¼Œè´Ÿè´£ç›‘è§†åº”ç”¨ç¨‹åºä»£ç ï¼ˆHTMLã€CSSã€JSç­‰ï¼‰å¹¶åœ¨æ›´æ”¹æ—¶é€æ˜åœ°é‡æ–°åŠ è½½åº”ç”¨ç¨‹åºã€‚

### é…ç½®

å°†[`watchForFileChanges`](/app/references/configuration#Global)é…ç½®å±æ€§è®¾ç½®ä¸º`false`ä»¥ç¦ç”¨æ–‡ä»¶ç›‘è§†ã€‚

:::caution

**æ³¨æ„ï¼š** åœ¨[cypress run](/app/references/command-line#cypress-run)æœŸé—´**ä¸ç›‘è§†**ä»»ä½•å†…å®¹ã€‚

`watchForFileChanges`å±æ€§ä»…åœ¨é€šè¿‡[cypress open](/app/references/command-line#cypress-open)è¿è¡ŒCypressæ—¶æœ‰æ•ˆã€‚

:::

Cypressä¸­è´Ÿè´£æ–‡ä»¶ç›‘è§†è¡Œä¸ºçš„ç»„ä»¶æ˜¯[`webpack-preprocessor`](https://github.com/cypress-io/cypress/tree/develop/npm/webpack-preprocessor)ã€‚è¿™æ˜¯Cypressæ‰“åŒ…çš„é»˜è®¤æ–‡ä»¶ç›‘è§†å™¨ã€‚

å¦‚æœéœ€è¦è¿›ä¸€æ­¥æ§åˆ¶æ–‡ä»¶ç›‘è§†è¡Œä¸ºï¼Œå¯ä»¥æ˜¾å¼é…ç½®æ­¤é¢„å¤„ç†å™¨ï¼šå®ƒå…¬å¼€äº†å…è®¸é…ç½®è¡Œä¸ºçš„é€‰é¡¹ï¼Œä¾‹å¦‚_ç›‘è§†ä»€ä¹ˆ_ä»¥åŠæ›´æ”¹åå‘å‡º"æ›´æ–°"äº‹ä»¶ä¹‹å‰çš„å»¶è¿Ÿã€‚

Cypressè¿˜æä¾›äº†å…¶ä»–[æ–‡ä»¶ç›‘è§†é¢„å¤„ç†å™¨](/app/plugins/plugins-list) - å¦‚æœæƒ³ä½¿ç”¨å®ƒä»¬ï¼Œå¿…é¡»æ˜¾å¼é…ç½®ã€‚

- [Cypress Watch Preprocessor](https://github.com/cypress-io/cypress-watch-preprocessor)
- [Cypress webpack Preprocessor](https://github.com/cypress-io/cypress/tree/develop/npm/webpack-preprocessor)