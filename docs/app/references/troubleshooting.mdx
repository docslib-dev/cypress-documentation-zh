---
title: 'Cypress App æ•…éšœæ’æŸ¥'
description: 'å¸®åŠ©æ‚¨æ’æŸ¥ Cypress App é—®é¢˜çš„èµ„æºï¼Œä»¥åŠéš”ç¦»å’Œè§£å†³é—®é¢˜çš„å¸¸è§æ­¥éª¤ã€‚'
sidebar_label: æ•…éšœæ’æŸ¥
---

<ProductHeading product="app" />

# æ•…éšœæ’æŸ¥

:::info

##### <Icon name="question-circle" color="#4BBFD2" /> æ‚¨å°†å­¦ä¹ åˆ°

- å¸®åŠ©æ’æŸ¥ Cypress App é—®é¢˜çš„èµ„æº
- éš”ç¦»å’Œè§£å†³é—®é¢˜çš„å¸¸è§æ­¥éª¤

:::

## ä»è¿™é‡Œå¼€å§‹

æœ‰æ—¶æ‚¨ä¼šé‡åˆ° Cypress æœ¬èº«çš„é”™è¯¯æˆ–æ„å¤–è¡Œä¸ºã€‚æœ¬æŒ‡å—æä¾›äº†ä¸€äº›èµ„æºå’Œæ­¥éª¤æ¥å¸®åŠ©æ’æŸ¥è¿™äº›é—®é¢˜ã€‚

### æ›´æ–° Cypress

æˆ‘ä»¬å§‹ç»ˆå»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Cypress Appã€‚å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œè¯·å‡çº§åˆ°[æœ€æ–°ç‰ˆæœ¬](/app/references/changelog)ã€‚æ‚¨çš„é—®é¢˜å¯èƒ½å·²ç»å¾—åˆ°è§£å†³ã€‚

### æ”¯æŒæ¸ é“

æ£€æŸ¥ä»¥ä¸‹ Cypress App é—®é¢˜çš„æ”¯æŒèµ„æºï¼š

- åœ¨ [Discord](https://on.cypress.io/discord) ä¸­ä¸æˆ‘ä»¬çš„ç¤¾åŒºè”ç³»
- æœç´¢ç°æœ‰çš„ [GitHub issues](https://github.com/cypress-io/cypress/issues)
- æœç´¢æœ¬æ–‡æ¡£ï¼ˆæœç´¢æ¡†åœ¨å³ä¸Šè§’ï¼‰ğŸ˜‰
- åœ¨ [Stack Overflow](https://stackoverflow.com/questions/tagged/cypress) ä¸Šæœç´¢ç›¸å…³ç­”æ¡ˆ
- å¦‚æœä»æœªæ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œè¯·[æäº¤ issue](https://github.com/cypress-io/cypress/issues/new/choose) å¹¶é™„ä¸Šå¯å¤ç°çš„ç¤ºä¾‹ã€‚

å¦‚æœæ‚¨çš„ç»„ç»‡è®¢é˜…äº†æˆ‘ä»¬çš„[ä»˜è´¹è®¡åˆ’](https://www.cypress.io/pricing/)ï¼Œæ‚¨å¯ä»¥è·å¾—ä¸“å±çš„ç”µå­é‚®ä»¶æ”¯æŒï¼Œè¿™å°†ä¸ºæ‚¨æä¾›æˆ‘ä»¬å›¢é˜Ÿçš„ä¸€å¯¹ä¸€å¸®åŠ©ã€‚

### éš”ç¦»é—®é¢˜

åœ¨è°ƒè¯•å¤±è´¥çš„æµ‹è¯•æ—¶ï¼Œéµå¾ªä»¥ä¸‹ä¸€èˆ¬åŸåˆ™æ¥éš”ç¦»é—®é¢˜ï¼š

- æŸ¥çœ‹æµ‹è¯•çš„æˆªå›¾ã€è§†é¢‘æˆ–[æµ‹è¯•å›æ”¾](/cloud/features/test-replay)ã€‚æµ‹è¯•å›æ”¾å°†æ˜¾ç¤ºæµ‹è¯•æœŸé—´æ‰§è¡Œçš„ç¡®åˆ‡æ­¥éª¤ï¼ŒåŒ…æ‹¬æ§åˆ¶å°æ—¥å¿—å’Œè¯·æ±‚ã€‚
- å°†å¤§å‹ spec æ–‡ä»¶æ‹†åˆ†ä¸ºè¾ƒå°çš„æ–‡ä»¶ã€‚
- å°†é•¿æµ‹è¯•æ‹†åˆ†ä¸ºè¾ƒå°çš„æµ‹è¯•ã€‚
- åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­è¿è¡Œç›¸åŒçš„æµ‹è¯•ï¼Œä»¥éš”ç¦»ç‰¹å®šæµè§ˆå™¨çš„é—®é¢˜ã€‚
- åœ¨ä¸åŒçš„ç¯å¢ƒï¼ˆæœ¬åœ°ã€CI ç­‰ï¼‰ä¸­è¿è¡Œç›¸åŒçš„æµ‹è¯•ï¼Œä»¥éš”ç¦»ç‰¹å®šç¯å¢ƒçš„é—®é¢˜ã€‚
- å°†æµ‹è¯•ç®€åŒ–ä¸ºä»èƒ½å¤ç°é—®é¢˜çš„æœ€å°æµ‹è¯•ã€‚

## æ•…éšœæ’æŸ¥æ­¥éª¤

ä»¥ä¸‹æ˜¯ä¸€äº›æ’æŸ¥ Cypress å¸¸è§é—®é¢˜çš„æ­¥éª¤ã€‚

### æ¸…é™¤ Cypress ç¼“å­˜

å¦‚æœåœ¨å®‰è£… Cypress æ—¶é‡åˆ°é—®é¢˜ï¼Œè¯·å°è¯•æ¸…é™¤ Cypress ç¼“å­˜çš„å†…å®¹ã€‚

è¿™å°†æ¸…é™¤æ‚¨è®¡ç®—æœºä¸Šå¯èƒ½ç¼“å­˜çš„æ‰€æœ‰ Cypress ç‰ˆæœ¬ã€‚

```shell
cypress cache clear
```

è¿è¡Œæ­¤å‘½ä»¤åï¼Œæ‚¨éœ€è¦å…ˆè¿è¡Œ `cypress install`ï¼Œç„¶åæ‰èƒ½å†æ¬¡è¿è¡Œ Cypressã€‚

<CypressInstallCommands />

### å…è®¸ Cypress Chrome æ‰©å±•

Cypress ä½¿ç”¨ Chrome æ‰©å±•æ¥æ­£å¸¸è¿è¡Œã€‚å¦‚æœæ‚¨æˆ–æ‚¨çš„å…¬å¸é˜»æ­¢äº†ç‰¹å®šçš„ Chrome æ‰©å±•ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ Cypress è¿è¡Œå‡ºç°é—®é¢˜ã€‚æ‚¨éœ€è¦è¯·æ±‚ç®¡ç†å‘˜å…è®¸ä»¥ä¸‹ Cypress æ‰©å±• IDï¼š

```sh
caljajdfkjjjdehjdoimjkkakekklcck
```

æ‚¨å¯ä»¥é€šè¿‡åœ¨åœ°å€æ ä¸­è¾“å…¥ `chrome://policy` å¹¶æŒ‰ Enter é”®æ¥æ£€æŸ¥å½“å‰ Chrome å®‰è£…çš„å…¬å¸ç­–ç•¥ã€‚

### åœ¨ VPN ä¸Šå…è®¸ Cypress URL

ä¸ºäº†å°†æµ‹è¯•æ•°æ®å’Œç»“æœå‘é€åˆ° [Cypress Cloud](/cloud/get-started/introduction)ï¼ŒCypress éœ€è¦è‡ªç”±è®¿é—®ä¸€äº› URLã€‚

<UrlAllowList />

### æ¸…é™¤åº”ç”¨æ•°æ®

Cypress ç»´æŠ¤ä¸€äº›æœ¬åœ°åº”ç”¨æ•°æ®ä»¥ä¿å­˜ç”¨æˆ·åå¥½å¹¶æ›´å¿«åœ°å¯åŠ¨ã€‚æœ‰æ—¶è¿™äº›æ•°æ®å¯èƒ½ä¼šæŸåã€‚æ‚¨å¯ä»¥é€šè¿‡æ¸…é™¤è¿™äº›åº”ç”¨æ•°æ®æ¥è§£å†³é—®é¢˜ã€‚

#### æ¸…é™¤åº”ç”¨æ•°æ®çš„æ­¥éª¤

1. é€šè¿‡ `cypress open` æ‰“å¼€ Cypress
2. è½¬åˆ° `Developer Tools` -> `View App Data`
3. è¿™å°†å¸¦æ‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨åº”ç”¨æ•°æ®çš„ç›®å½•ã€‚å¦‚æœæ— æ³•æ‰“å¼€ Cypressï¼Œè¯·åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æœç´¢åä¸º `cy` çš„ç›®å½•ï¼Œå…¶å†…å®¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š

```text
ğŸ“‚ production
  ğŸ“„ all.log
  ğŸ“ browsers
  ğŸ“ bundles
  ğŸ“„ cache
  ğŸ“ projects
  ğŸ“ proxy
  ğŸ“„ state.json
```

4. åˆ é™¤ `cy` æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹
5. å…³é—­ Cypress å¹¶é‡æ–°æ‰“å¼€

### æ‰“å° DEBUG æ—¥å¿—

Cypress ä½¿ç”¨ [debug](https://github.com/debug-js/debug) æ¨¡å—ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥é€šè¿‡åœ¨è¿è¡Œ `cypress run` æˆ– `cypress open` ä¹‹å‰è®¾ç½®ç³»ç»Ÿçº§ç¯å¢ƒå˜é‡ `DEBUG` ä¸º `cypress:*` æ¥æ¥æ”¶æœ‰ç”¨çš„è°ƒè¯•è¾“å‡ºã€‚

:::tip

å¯ç”¨è°ƒè¯•è¾“å‡ºå¯èƒ½ä¼šç”Ÿæˆå¤§é‡æ•°æ®ã€‚è¿™è¿˜å¯èƒ½å½±å“æ€§èƒ½ã€‚ä»…åœ¨éœ€è¦æ—¶å¯ç”¨è°ƒè¯•è¾“å‡ºã€‚

ä¸ºäº†å‡å°‘ç”Ÿæˆçš„è°ƒè¯•è¾“å‡ºæ•°æ®é‡ï¼Œå¯ä»¥ä½¿ç”¨æ›´é€‰æ‹©æ€§çš„å€¼æ›¿æ¢ `cypress:*`ã€‚è¯·å‚é˜…ä¸‹æ–‡ï¼ŒåŒ…æ‹¬[æ—¥å¿—æ¥æº](#Log-sources)éƒ¨åˆ†ã€‚

å¦‚æœéœ€è¦å…±äº«æ”¶é›†çš„è°ƒè¯•è¾“å‡ºæ–‡ä»¶ï¼Œè¯·è€ƒè™‘å…ˆä½¿ç”¨ [ZIP](<https://en.wikipedia.org/wiki/ZIP_(file_format)>) å·¥å…·æˆ–ç±»ä¼¼å·¥å…·å‹ç¼©æ–‡ä»¶ä»¥å‡å°‘æ–‡ä»¶å¤§å°ã€‚

:::

**åœ¨ macOSã€Linux æˆ– Windows (Git Bash) ä¸Šï¼š**

<Tabs groupId="package-manager"
  defaultValue="npm"
  values={[
    {label: 'npm', value: 'npm'},
    {label: 'Yarn', value: 'yarn'},
    {label: 'pnpm', value: 'pnpm'},
  ]}>
  <TabItem value="npm">

```shell
DEBUG=cypress:* npx cypress run
```

  </TabItem>
  <TabItem value="yarn">

```shell
DEBUG=cypress:* yarn cypress run
```

  </TabItem>
  <TabItem value="pnpm">

```shell
DEBUG=cypress:* pnpm cypress run
```

  </TabItem>
</Tabs>

æ‚¨å¯ä»¥å°†ä¸Šè¿°å‘½ä»¤ä¸­çš„ `run` æ›¿æ¢ä¸º `open`ï¼Œä»¥åœ¨ä» [Cypress Specs](../core-concepts/open-mode#Specs) UI å¯åŠ¨æµ‹è¯•æ—¶æ•è·è°ƒè¯•æ—¥å¿—ã€‚

å¯¹äº Windows ä¸Šçš„é POSIX ç±»å‹ shellï¼ŒæŒ‰å¦‚ä¸‹æ–¹å¼è®¾ç½® `DEBUG` ç¯å¢ƒå˜é‡ã€‚ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Yarn æˆ– pnpm åŒ…ç®¡ç†å™¨è€Œä¸æ˜¯ npmï¼Œè¯·å°† `npx` æ›¿æ¢ä¸º `yarn` æˆ– `pnpm`ã€‚ï¼‰

**åœ¨ Windows CMD ä¸Šï¼š**

```shell
set DEBUG=cypress:*
npx cypress run
```

**åœ¨ Windows PowerShell ä¸Šï¼š**

```shell
$env:DEBUG='cypress:*'
npx cypress run
```

å¦‚æœæ—¥å¿—æ— æ³•æ‰“å°ï¼Œå¯èƒ½æ˜¯ç»ˆç«¯ä¸­è®¾ç½®ç¯å¢ƒå˜é‡çš„æƒé™é—®é¢˜ã€‚æ‚¨å¯èƒ½éœ€è¦ä»¥ç®¡ç†å‘˜æ¨¡å¼è¿è¡Œç»ˆç«¯æˆ–æ£€æŸ¥æƒé™è®¾ç½®ã€‚

[å¦‚ä½•è¿è¡Œ Cypress CLI å‘½ä»¤](/app/references/command-line#How-to-run-commands) æä¾›äº†ä»å‘½ä»¤è¡Œè¿è¡Œ Cypress çš„èƒŒæ™¯ä¿¡æ¯ï¼Œå¹¶åŒ…æ‹¬å…¶ä»–å‘½ä»¤è¡Œé€‰é¡¹çš„å‚è€ƒã€‚

#### è¯¦ç»†æ—¥å¿—

æœ‰å¤šä¸ªçº§åˆ«çš„ `DEBUG` æ¶ˆæ¯

```shell
## æ‰“å°å¾ˆå°‘çš„é¡¶å±‚æ¶ˆæ¯
DEBUG=cypress:server ...
## æ‰“å° server åŒ…çš„æ‰€æœ‰æ¶ˆæ¯
DEBUG=cypress:server* ...
## ä»…æ‰“å°é¡¹ç›®åŸºç¡€æ“ä½œçš„æ¶ˆæ¯
DEBUG=cypress:server:project ...
```

è¿™ä½¿æ‚¨å¯ä»¥æ›´å¥½åœ°éš”ç¦»é—®é¢˜ã€‚

#### æ—¥å¿—æ¥æº

Cypress ç”±å¤šä¸ªåŒ…æ„å»ºï¼Œæ¯ä¸ªåŒ…è´Ÿè´£è‡ªå·±çš„æ—¥å¿—è®°å½•ï¼šserverã€reporterã€driverã€å‘½ä»¤è¡Œç­‰ã€‚æ¯ä¸ªåŒ…åœ¨ä¸åŒçš„æºä¸‹å†™å…¥è°ƒè¯•æ—¥å¿—ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æ—¥å¿—æºä»¥åŠæ‚¨å¯èƒ½å¸Œæœ›å¯ç”¨å®ƒä»¬çš„æƒ…å†µï¼š

| è®¾ç½® `DEBUG` ä¸ºå€¼             | å¯ç”¨è°ƒè¯•çš„ç›®çš„                                           |
| -------------------------------- | ------------------------------------------------------------- |
| `cypress:*`                      | æ‰€æœ‰æ¨¡å—                                                   |
| `cypress:cli*`                   | é¡¶å±‚å‘½ä»¤è¡Œè§£æå’ŒäºŒè¿›åˆ¶å®‰è£…        |
| `cypress:server:args`            | è§£æé”™è¯¯çš„å‘½ä»¤è¡Œå‚æ•°                       |
| `cypress:data-context:sources:*` | æ‰¾ä¸åˆ°é¢„æœŸçš„é¡¹ç›®æ•°æ®                         |
| `cypress:server:project`         | æ‰“å¼€é¡¹ç›®                                           |
| `cypress:server:browsers*`       | æŸ¥æ‰¾å·²å®‰è£…çš„æµè§ˆå™¨                                    |
| `cypress:launcher:*`             | å¯åŠ¨æ‰¾åˆ°çš„æµè§ˆå™¨                                   |
| `cypress:server:video`           | è§†é¢‘å½•åˆ¶                                               |
| `cypress:network:*`              | æ·»åŠ ç½‘ç»œæ‹¦æˆªå™¨                                   |
| `cypress:net-stubbing:*`         | ä»£ç†å±‚ä¸­çš„ç½‘ç»œæ‹¦æˆª                         |
| `cypress:server:reporter`        | æµ‹è¯•æŠ¥å‘Šå™¨é—®é¢˜                                  |
| `cypress:server:preprocessor`    | å¤„ç† specs                                              |
| `cypress:server:socket-e2e`      | ç›‘è§† spec æ–‡ä»¶                                   |
| `cypress:server:task`            | è°ƒç”¨ `cy.task()` å‘½ä»¤                              |
| `cypress:server:socket-base`     | è°ƒè¯• `cy.request()` å‘½ä»¤                              |
| `cypress:webpack`                | ä½¿ç”¨ webpack æ‰“åŒ… specs                                  |
| `cypress:server:fixture`         | åŠ è½½ fixture æ–‡ä»¶                                         |
| `cypress:server:record:ci-info`  | è®°å½•åˆ° Cypress Cloud æ—¶çš„ Git æäº¤å’Œ CI ä¿¡æ¯ |

æ‚¨å¯ä»¥ä½¿ç”¨é€—å·å­—ç¬¦å°†å¤šä¸ªåŒºåŸŸç»„åˆåœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œè¦è°ƒè¯•æ‰¾ä¸åˆ° specs çš„é—®é¢˜ï¼Œè¯·ä½¿ç”¨ï¼š

```shell
## æŸ¥çœ‹ CLI å‚æ•°å¦‚ä½•è§£æ
## ä»¥åŠ Cypress å¦‚ä½•å°è¯•å®šä½ spec æ–‡ä»¶
DEBUG=cypress:cli,cypress:data-context:sources:FileDataSource,cypress:data-context:sources:ProjectDataSource npx cypress run --spec ...
```

æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ `-` å­—ç¬¦æ’é™¤æ—¥å¿—æºã€‚ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹æ‰€æœ‰ `cypress:server*` æ¶ˆæ¯è€Œä¸åŒ…å«å˜ˆæ‚çš„æµè§ˆå™¨æ¶ˆæ¯ï¼Œè¯·ä½¿ç”¨ï¼š

```shell
DEBUG=cypress:server*,-cypress:server:browsers* npx cypress run
```

#### è°ƒè¯•æ—¥å¿—æ·±åº¦

æœ‰æ—¶è®°å½•çš„å¯¹è±¡å…·æœ‰æ·±å±‚åµŒå¥—çš„å±æ€§ï¼Œå¹¶æ˜¾ç¤ºä¸º `[Object]` è€Œä¸æ˜¯å®Œæ•´çš„åºåˆ—åŒ–ã€‚

```shell
DEBUG=cypress:server:socket-base npx cypress run

cypress:server:socket-base backend:request { eventName: 'http:request', args:
  [ { url: 'http://localhost:7065/echo', method: 'POST', body: [Object], auth: [Object],
  json: true, encoding: 'utf8', gzip: true, timeout: 30000, followRedirect: true,
  failOnStatusCode: true, retryOnNetworkFailure: true,
  retryOnStatusCodeFailure: false } ] } +5ms
```

æ‚¨å¯ä»¥ä½¿ç”¨ `DEBUG_DEPTH` ç¯å¢ƒå˜é‡å¢åŠ æ‰“å°å¯¹è±¡çš„æ·±åº¦

```shell
DEBUG=cypress:server:socket-base DEBUG_DEPTH=3 npx cypress run

cypress:server:socket-base backend:request { eventName: 'http:request', args:
  [ { url: 'http://localhost:7065/echo', method: 'POST', body: { text: 'ping!' },
  auth: { username: 'jane.lane', password: 'password123' }, json: true, encoding: 'utf8',
  gzip: true, timeout: 30000, followRedirect: true, failOnStatusCode: true,
  retryOnNetworkFailure: true, retryOnStatusCodeFailure: false } ] } +4ms
```

#### ç¬¬ä¸‰æ–¹æ¨¡å—

ä¸€äº›ç¬¬ä¸‰æ–¹æ¨¡å—å¦‚ [@cypress/request](https://github.com/cypress-io/request) é€šè¿‡æ£€æŸ¥ `NODE_DEBUG` ç¯å¢ƒå˜é‡è¾“å‡ºé¢å¤–çš„æ—¥å¿—æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼Œè¦è°ƒè¯•ç½‘ç»œæ‹¦æˆªå’Œ `@cypress/request` æ¨¡å—å‘å‡ºçš„è¯·æ±‚ï¼Œè¯·ä½¿ç”¨ï¼š

```shell
DEBUG=cypress:net-stubbing:server:intercept-request \
  NODE_DEBUG=request npx cypress run
```

#### æµè§ˆå™¨ä¸­çš„è°ƒè¯•æ—¥å¿—

å¦‚æœåœ¨ `cypress open` æœŸé—´å‘ç°é—®é¢˜ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å°è°ƒè¯•æ—¥å¿—ã€‚æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·å¹¶è®¾ç½® `localStorage` å±æ€§ï¼š

```javascript
localStorage.debug = 'cypress*'

// ç¦ç”¨è°ƒè¯•æ¶ˆæ¯
delete localStorage.debug
```

é‡æ–°åŠ è½½æµè§ˆå™¨å¹¶æ‰“å¼€â€œè¯¦ç»†â€æ—¥å¿—ä»¥åœ¨å¼€å‘è€…å·¥å…·æ§åˆ¶å°ä¸­æŸ¥çœ‹è°ƒè¯•æ¶ˆæ¯ã€‚æ‚¨å°†åªçœ‹åˆ°åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ **cypress\:driver** åŒ…æ—¥å¿—ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

<DocsImage src="/img/api/debug/debug-driver.jpg" alt="æµè§ˆå™¨ä¸­çš„è°ƒè¯•æ—¥å¿—" />

### è®°å½•å†…å­˜å’Œ CPU ä½¿ç”¨æƒ…å†µ

æ‚¨å¯ä»¥é€šè¿‡å¯ç”¨ `cypress:server:util:process_profiler` è°ƒè¯•æµï¼Œå‘Šè¯‰ Cypress å®šæœŸè®°å½•å…¶è‡ªèº«å’Œä»»ä½•å­è¿›ç¨‹çš„å†…å­˜å’Œ CPU ä½¿ç”¨æƒ…å†µæ‘˜è¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```shell
DEBUG=cypress:server:util:process_profiler npx cypress run
```

ï¼ˆæœ‰å…³åœ¨é POSIX Windows ç»ˆç«¯ä¸­è®¾ç½® `DEBUG` ç¯å¢ƒå˜é‡çš„æç¤ºï¼Œè¯·å‚é˜…ä¸Šé¢çš„[æ‰“å° DEBUG æ—¥å¿—](#Print-DEBUG-logs)ã€‚ï¼‰

åœ¨ç”Ÿæˆçš„è¾“å‡ºä¸­ï¼Œè¿›ç¨‹æŒ‰å…¶åç§°åˆ†ç»„ã€‚

<DocsImage
  src="/img/app/troubleshooting/troubleshooting-cypress-process-profiler-cli.jpg"
  alt="CLI ä¸­çš„ Cypress è¿›ç¨‹æ‰“å°"
/>

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿›ç¨‹ä¿¡æ¯æ¯ 10 ç§’æ”¶é›†ã€æ±‡æ€»å¹¶æ‰“å°ä¸€æ¬¡ã€‚æ‚¨å¯ä»¥é€šè¿‡å°† `CYPRESS_PROCESS_PROFILER_INTERVAL` ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºæ‰€éœ€çš„æ¯«ç§’é—´éš”æ¥è¦†ç›–æ­¤é—´éš”ã€‚

æ‚¨è¿˜å¯ä»¥é€šè¿‡å¯ç”¨è¯¦ç»†çš„ `cypress-verbose:server:util:process_profiler` è°ƒè¯•æµæ¥è·å–æ›´è¯¦ç»†çš„æ¯ä¸ªè¿›ç¨‹ä¿¡æ¯ã€‚

### ç¦ç”¨å‘½ä»¤æ—¥å¿—

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ[å‘½ä»¤æ—¥å¿—](/app/core-concepts/open-mode#Command-Log)ï¼ˆè´Ÿè´£åœ¨ Cypress Test Runner ä¸­æ˜¾ç¤ºæµ‹è¯•å‘½ä»¤ã€æ–­è¨€å’ŒçŠ¶æ€ï¼‰å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå¯¼è‡´æµ‹è¯•å˜æ…¢æˆ–æµè§ˆå™¨å´©æºƒã€‚

ä¸ºäº†éš”ç¦»è¿™äº›é—®é¢˜ï¼Œæ‚¨å¯ä»¥é€šè¿‡åœ¨ `cypress open` æˆ– `cypress run` æœŸé—´ä¼ é€’ä»¥ä¸‹ç¯å¢ƒå˜é‡æ¥éšè—å‘½ä»¤æ—¥å¿—ã€‚

```shell
CYPRESS_NO_COMMAND_LOG=1 cypress run
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡åœ¨ `cypress run` ä¸­ä¼ é€’ [`--no-runner-ui`](/app/references/command-line#cypress-run-no-runner-ui) å‘½ä»¤è¡Œæ ‡å¿—æ¥éšè—æ•´ä¸ª Cypress Runner UIã€‚

```shell
npx cypress run --no-runner-ui
```

è®¾ç½®æ­¤å˜é‡åï¼ŒCypress å°†å®Œå…¨è·³è¿‡æ¸²æŸ“å‘½ä»¤æ—¥å¿—ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•è¿è¡Œæ—¶ä¸ä¼šæ‰§è¡Œä»»ä½•é€šå¸¸çš„ DOM æ›´æ–°æ¥æ˜¾ç¤ºå‘½ä»¤å’ŒçŠ¶æ€ä¿¡æ¯ã€‚

**æ³¨æ„ï¼š** è®¾ç½®æ­¤å˜é‡åï¼Œæˆªå›¾å’Œè§†é¢‘å°†ä¸åŒ…å«å‘½ä»¤æ—¥å¿—ã€‚

### ä¸‹è½½ç‰¹å®šç‰ˆæœ¬çš„ Chrome

Chrome æµè§ˆå™¨æ˜¯å¸¸é’çš„ - æ„å‘³ç€å®ƒä¼šè‡ªåŠ¨æ›´æ–°è‡ªå·±ï¼Œæœ‰æ—¶ä¼šå¯¼è‡´æ‚¨çš„è‡ªåŠ¨åŒ–æµ‹è¯•å‡ºç°ç ´åæ€§æ›´æ”¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ [Download Chromium](https://on.cypress.io/chromium-downloads) ä¸­çš„ä¿¡æ¯ä¸ºæ¯ä¸ªå¹³å°ä¸‹è½½ç‰¹å®šå‘å¸ƒçš„ Chromium ç‰ˆæœ¬ã€‚

## ç‰¹å®šé—®é¢˜

### å¯åŠ¨æµè§ˆå™¨

Cypress å°è¯•[è‡ªåŠ¨ä¸ºæ‚¨æŸ¥æ‰¾å·²å®‰è£…çš„ Chrome ç‰ˆæœ¬](/app/references/launching-browsers)ã€‚ç„¶è€Œï¼Œåœ¨ä¸åŒç¯å¢ƒä¸­æ¢æµ‹æµè§ˆå™¨å¯èƒ½ä¼šå‡ºé”™ã€‚å¦‚æœ Cypress æ‰¾ä¸åˆ°æµè§ˆå™¨ï¼Œä½†æ‚¨çŸ¥é“å·²å®‰è£…å®ƒï¼Œæœ‰å‡ ç§æ–¹æ³•å¯ä»¥ç¡®ä¿ Cypress èƒ½å¤Ÿâ€œçœ‹åˆ°â€å®ƒã€‚

:::info

<strong>ä½¿ç”¨ `--browser` å‘½ä»¤è¡Œå‚æ•°</strong>

æ‚¨è¿˜å¯ä»¥æä¾› `--browser` å‘½ä»¤è¡Œå‚æ•°ï¼Œä»å·²çŸ¥çš„æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å¯åŠ¨æµè§ˆå™¨ä»¥ç»•è¿‡æµè§ˆå™¨è‡ªåŠ¨æ£€æµ‹ã€‚[æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œå¯åŠ¨æµè§ˆå™¨â€](/app/references/launching-browsers#Launching-by-a-path)

:::

æ‚¨å¯ä»¥åœ¨ Cypress çš„**è®¾ç½®**é€‰é¡¹å¡ä¸­çš„[å·²è§£æé…ç½®](/app/references/configuration#Resolved-Configuration)ä¸­æŸ¥çœ‹æ‰¾åˆ°çš„æµè§ˆå™¨åŠå…¶å±æ€§çš„å®Œæ•´åˆ—è¡¨ã€‚

å¦ä¸€ç§è®°å½• Cypress æ‰¾åˆ°çš„å†…å®¹çš„æ–¹æ³•æ˜¯å°† [DEBUG ç¯å¢ƒå˜é‡](#Print-DEBUG-logs) è®¾ç½®ä¸º `cypress:launcher:*` è¿è¡Œ Cypressã€‚è¿™å°†åœ¨ç»ˆç«¯ä¸­æ‰“å°æœ‰å…³æ‰¾åˆ°çš„æµè§ˆå™¨åŠå…¶å±æ€§çš„ä¿¡æ¯ã€‚

**æç¤ºï¼š** ä½¿ç”¨ [cypress info](/app/references/command-line#cypress-info) å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°æ£€æµ‹åˆ°çš„æµè§ˆå™¨ã€‚

#### Mac

åœ¨ Mac ä¸Šï¼ŒCypress å°è¯•é€šè¿‡å…¶ bundle identifier æŸ¥æ‰¾å·²å®‰è£…çš„æµè§ˆå™¨ã€‚å¦‚æœè¿™ä¸æˆåŠŸï¼Œå®ƒå°†å›é€€åˆ° Linux æµè§ˆå™¨æ£€æµ‹æ–¹æ³•ã€‚

| æµè§ˆå™¨åç§°         | é¢„æœŸçš„ Bundle Identifier            | é¢„æœŸçš„å¯æ‰§è¡Œè·¯å¾„                                                               |
| -------------------- | ------------------------------------- | -------------------------------------------------------------------------------------- |
| `chrome`             | `com.google.Chrome`                   | `/Applications/Google Chrome.app/Contents/MacOS/Google Chrome`                         |
| `chrome:beta`        | `com.google.Chrome.beta`              | `/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta`               |
| `chrome:canary`      | `com.google.Chrome.canary`            | `/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary`           |
| `chrome-for-testing` | `com.google.chrome.for.testing`       | `/Applications/Google Chrome for Testing.app/Contents/MacOS/Google Chrome for Testing` |
| `chromium`           | `org.chromium.Chromium`               | `/Applications/Chromium.app/Contents/MacOS/Chromium`                                   |
| `firefox`            | `org.mozilla.firefox`                 | `/Applications/Firefox.app/Contents/MacOS/firefox`                                     |
| `firefox:dev`        | `org.mozilla.firefoxdeveloperedition` | `/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox`                   |
| `firefox:nightly`    | `org.mozilla.nightly`                 | `/Applications/Firefox Nightly.app/Contents/MacOS/firefox`                             |
| `edge`               | `com.microsoft.Edge`                  | `/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge`                       |
| `edge:beta`          | `com.microsoft.Edge.Beta`             | `/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta`             |
| `edge:canary`        | `com.microsoft.Edge.Canary`           | `/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary`         |
| `edge:dev`           | `com.microsoft.Edge.Dev`              | `/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev`               |

æœ‰å…³å½“å‰åˆ—è¡¨ï¼Œè¯·å‚é˜… [packages/launcher](https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/darwin/index.ts) æ–‡ä»¶ã€‚

**æ³¨æ„ï¼š** `chrome-for-testing` å’Œ `chromium` é€šå¸¸éœ€è¦æ‰‹åŠ¨å°†ä¸‹è½½çš„åº”ç”¨ç¨‹åºæ–‡ä»¶ç§»åŠ¨åˆ° `/Applications` æ–‡ä»¶å¤¹æ‰èƒ½è‡ªåŠ¨æ£€æµ‹ã€‚

#### Linux

åœ¨ Linux ä¸Šï¼ŒCypress æ‰«ææ‚¨çš„ `PATH` ä»¥æŸ¥æ‰¾å¤šä¸ªä¸åŒçš„äºŒè¿›åˆ¶åç§°ã€‚å¦‚æœæ‚¨å°è¯•ä½¿ç”¨çš„æµè§ˆå™¨ä¸å­˜åœ¨äºé¢„æœŸçš„äºŒè¿›åˆ¶åç§°ä¹‹ä¸€ä¸‹ï¼ŒCypress å°†æ— æ³•æ‰¾åˆ°å®ƒã€‚

| æµè§ˆå™¨åç§°         | é¢„æœŸçš„äºŒè¿›åˆ¶åç§°                              |
| -------------------- | ---------------------------------------------------- |
| `chrome`             | `google-chrome`, `chrome`, æˆ– `google-chrome-stable` |
| `chrome:beta`        | `google-chrome-beta`                                 |
| `chrome:canary`      | `google-chrome-canary`                               |
| `chrome-for-testing` | `chrome`                                             |
| `chromium`           | `chromium-browser` æˆ– `chromium`                     |
| `firefox`            | `firefox`                                            |
| `firefox:dev`        | `firefox-developer-edition`, `firefox`               |
| `firefox:nightly`    | `firefox-nightly`, `firefox-trunk`                   |
| `edge`               | `edge`, `microsoft-edge`                             |
| `edge:beta`          | `edge-beta`, `microsoft-edge-beta`                   |
| `edge:canary`        | `edge-canary`, `microsoft-edge-canary`               |
| `edge:dev`           | `edge-dev`, `microsoft-edge-dev`                     |

è¿™äº›äºŒè¿›åˆ¶åç§°é€‚ç”¨äºå¤§å¤šæ•° Linux å‘è¡Œç‰ˆã€‚å¦‚æœæ‚¨çš„å‘è¡Œç‰ˆå°†æµè§ˆå™¨æ‰“åŒ…åœ¨ä¸åŒçš„äºŒè¿›åˆ¶åç§°ä¸‹ï¼Œæ‚¨å¯ä»¥æ·»åŠ ä¸€ä¸ªä½¿ç”¨é¢„æœŸäºŒè¿›åˆ¶åç§°çš„ç¬¦å·é“¾æ¥ï¼Œä»¥ä¾¿ Cypress å¯ä»¥æ£€æµ‹åˆ°å®ƒã€‚

ä¾‹å¦‚ï¼Œä¸º `chrome-for-testing` æµè§ˆå™¨åˆ›å»ºç¬¦å·é“¾æ¥ï¼š

```shell
sudo ln -s /path/to/binary/chrome /usr/local/bin/chrome
```

**æ³¨æ„ï¼š** `chrome-for-testing` å’Œ `chromium` é€šå¸¸éœ€è¦æ‰‹åŠ¨å°†äºŒè¿›åˆ¶æ·»åŠ åˆ° `PATH` æˆ–åˆ›å»ºç¬¦å·é“¾æ¥æ‰èƒ½è‡ªåŠ¨æ£€æµ‹ã€‚

#### Windows

åœ¨ Windows ä¸Šï¼ŒCypress æ‰«æä»¥ä¸‹ä½ç½®ä»¥å°è¯•æŸ¥æ‰¾æ¯ä¸ªæµè§ˆå™¨ï¼š

| æµè§ˆå™¨åç§°         | é¢„æœŸçš„å¯æ‰§è¡Œè·¯å¾„                                                                                                                                                                                     |
| -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `chrome`             | `C:/Program Files (x86)/Google/Chrome/Application/chrome.exe`, `C:/Program Files/Google/Chrome/Application/chrome.exe`                                                                                       |
| `chrome:beta`        | `C:/Program Files (x86)/Google/Chrome Beta/Application/chrome.exe`, `C:/Program Files/Google/Chrome Beta/Application/chrome.exe`                                                                             |
| `chrome:canary`      | `%APPDATA%/Local/Google/Chrome SxS/Application/chrome.exe`                                                                                                                                                   |
| `chrome-for-testing` | `C:/Program Files/Google/Chrome for Testing/chrome.exe`, `C:/Program Files (x86)/Google/Chrome for Testing/chrome.exe`                                                                                       |
| `chromium`           | `C:/Program Files (x86)/Google/chrome-win32/chrome.exe`, `C:/Program Files/Google/chrome-win/chrome.exe`, `C:/Program Files/Google/Chromium/chrome.exe`, `C:/Program Files (x86)/Google/Chromium/chrome.exe` |
| `firefox`            | `C:/Program Files/Mozilla Firefox/firefox.exe`, `C:/Program Files (x86)/Mozilla Firefox/firefox.exe`, `%APPDATA%/Local/Mozilla Firefox/firefox.exe`                                                          |
| `firefox:dev`        | `C:/Program Files/Firefox Developer Edition/firefox.exe`, `C:/Program Files (x86)/Firefox Developer Edition/firefox.exe`, `%APPDATA%/Local/Firefox Developer Edition/firefox.exe`                            |
| `firefox:nightly`    | `C:/Program Files/Firefox Nightly/firefox.exe`, `C:/Program Files (x86)/Firefox Nightly/firefox.exe`, `%APPDATA%/Local/Firefox Nightly/firefox.exe`                                                          |
| `edge`               | `C:/Program Files (x86)/Microsoft/Edge/Application/msedge.exe`                                                                                                                                               |
| `edge:beta`          | `C:/Program Files (x86)/Microsoft/Edge Beta/Application/msedge.exe`                                                                                                                                          |
| `edge:canary`        | `%APPDATA%/Local/Microsoft/Edge SxS/Application/msedge.exe`                                                                                                                                                  |
| `edge:dev`           | `C:/Program Files (x86)/Microsoft/Edge Dev/Application/msedge.exe`                                                                                                                                           |

æœ‰å…³å½“å‰åˆ—è¡¨ï¼Œè¯·å‚é˜… [packages/launcher](https://github.com/cypress-io/cypress/blob/develop/packages/launcher/lib/windows/index.ts) æ–‡ä»¶ã€‚

è¦ä½¿å®‰è£…åœ¨ä¸åŒè·¯å¾„çš„æµè§ˆå™¨èƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹ï¼Œè¯·ä½¿ç”¨ `mklink` åœ¨ Cypress æœŸæœ›æ‰¾åˆ°æµè§ˆå™¨çš„ä½ç½®åˆ›å»ºç¬¦å·é“¾æ¥ã€‚

ä¾‹å¦‚ï¼Œä¸º `chrome-for-testing` æµè§ˆå™¨åˆ›å»ºç¬¦å·é“¾æ¥ï¼š

```shell
mklink /d "C:\Program Files\Google\Chrome for Testing" "C:\path\to\chrome\executable\folder"
```

**æ³¨æ„ï¼š** `chrome-for-testing` å’Œ `chromium` é€šå¸¸éœ€è¦å°†ä¸‹è½½çš„æ–‡ä»¶å¤¹ç§»åŠ¨å¹¶é‡å‘½åä¸ºä¸Šè¿°ä½ç½®ï¼Œæˆ–å¦‚ä¸Šæ‰€è¿°åˆ›å»ºç¬¦å·é“¾æ¥æ‰èƒ½è‡ªåŠ¨æ£€æµ‹ã€‚

åœ¨ Windows ç¯å¢ƒä¸­ï¼ŒCypress å¶å°”ä¼šæœ‰æ£€æµ‹æµè§ˆå™¨ç±»å‹çš„é—®é¢˜ã€‚è¦æ‰‹åŠ¨æ£€æµ‹æµè§ˆå™¨ç±»å‹ï¼Œè¯·åœ¨è·¯å¾„æœ«å°¾é™„åŠ æµè§ˆå™¨ç±»å‹ï¼š

```shell
cypress open --browser C:/User/Application/browser.exe:chrome
```

## æ·±å…¥ Cypress

å¦‚æœæ‚¨æƒ³æ·±å…¥ç ”ç©¶ Cypress å¹¶è‡ªå·±ç¼–è¾‘ä»£ç ï¼Œæ‚¨å¯ä»¥è¿™æ ·åšã€‚Cypress ä»£ç æ˜¯å¼€æºçš„ï¼Œå¹¶æ ¹æ® [MIT è®¸å¯è¯](https://github.com/cypress-io/cypress/blob/develop/LICENSE) æˆæƒã€‚æˆ‘ä»¬åœ¨ä¸‹é¢æ¦‚è¿°äº†ä¸€äº›å…¥é—¨æŠ€å·§ã€‚

### è´¡çŒ®

å¦‚æœæ‚¨æƒ³ç›´æ¥ä¸º Cypress ä»£ç åšå‡ºè´¡çŒ®ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿æ‚¨çš„å¸®åŠ©ï¼è¯·æŸ¥çœ‹æˆ‘ä»¬çš„[è´¡çŒ®æŒ‡å—](https://github.com/cypress-io/cypress/blob/develop/CONTRIBUTING.md)ï¼Œäº†è§£æ‚¨å¯ä»¥è´¡çŒ®çš„å¤šç§æ–¹å¼ã€‚

### å•ç‹¬è¿è¡Œ Cypress

Cypress é™„å¸¦äº†ä¸€ä¸ª npm CLI æ¨¡å—ï¼Œç”¨äºè§£æå‚æ•°ã€å¯åŠ¨ Xvfb æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œç„¶åæ‰“å¼€ Cypressã€‚

ä¸€äº›æ‚¨å¯èƒ½å¸Œæœ›å•ç‹¬è¿è¡Œ Cypress çš„å¸¸è§æƒ…å†µåŒ…æ‹¬ï¼š

- è°ƒè¯• Cypress æ— æ³•å¯åŠ¨æˆ–æŒ‚èµ·çš„é—®é¢˜
- è°ƒè¯•ä¸ npm CLI æ¨¡å—è§£æ CLI å‚æ•°æ–¹å¼ç›¸å…³çš„é—®é¢˜

ä»¥ä¸‹æ˜¯æ‚¨å¦‚ä½•ç›´æ¥å¯åŠ¨ Cypress è€Œæ— éœ€ npm CLI æ¨¡å—çš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œä½¿ç”¨ [cypress cache path](/app/references/command-line#cypress-cache-path) å’Œ [cypress cache list](/app/references/command-line#cypress-cache-list) å‘½ä»¤æ‰¾åˆ° Cypress äºŒè¿›åˆ¶ç‰ˆæœ¬çš„å®‰è£…ä½ç½®ã€‚

åœ¨ Linux æœºå™¨ä¸Šçš„ç¤ºä¾‹æ˜¾ç¤ºï¼š

```text
$ npx cypress cache path
/home/<username>/.cache/Cypress
$ npx cypress cache list
```

| ç‰ˆæœ¬ | æœ€åä½¿ç”¨æ—¶é—´   |
| ------- | ----------- |
| 13.15.0 | 12 å¤©å‰ |

æ‚¨å¯ä»¥åœ¨ä»¥ä¸‹ç¤ºä¾‹æ­¥éª¤ä¸­å°† Linux çš„ `/home/<username>` ç›®å½•æ›¿æ¢ä¸º `~` å­—ç¬¦ã€‚

å…¶æ¬¡ï¼Œå°è¯•ä¸€ä¸ªå†’çƒŸæµ‹è¯•ï¼ŒéªŒè¯åº”ç”¨ç¨‹åºåœ¨ä¸»æœºä¸Šæ˜¯å¦å…·æœ‰æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ã€‚å¿½ç•¥å…³äºç›´æ¥è¿è¡Œ Cypress äºŒè¿›åˆ¶æ–‡ä»¶çš„è­¦å‘Šã€‚

```text
$ ~/.cache/Cypress/13.15.0/Cypress/Cypress --smoke-test --ping=101

DevTools listening on ws://127.0.0.1:39737/devtools/browser/162ad33c-294b-460b-812e-cc317907ac86
çœ‹èµ·æ¥æ‚¨æ­£åœ¨ç›´æ¥è¿è¡Œ Cypress äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

è¿™ä¸æ˜¯æ¨èçš„æ–¹æ³•ï¼ŒCypress å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚

è¯·å®‰è£… cypress NPM åŒ…å¹¶æŒ‰ç…§æ­¤å¤„çš„è¯´æ˜æ“ä½œï¼š

https://on.cypress.io/install-cypress
101
```

å¦‚æœæœ‰ç¼ºå¤±çš„ä¾èµ–é¡¹ï¼Œå†’çƒŸæµ‹è¯•å°†æ— æ³•è¿è¡Œï¼Œåº”ç”¨ç¨‹åºå°†æ‰“å°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼ŒæŒ‡å‘ [Linux å…ˆå†³æ¡ä»¶](/app/get-started/install-cypress#Linux-Prerequisites)ã€‚æŒ‰ç…§è¯´æ˜ç¡®ä¿å®‰è£…æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹ã€‚

è¦åœ¨ Linux ä¸Šæ’æŸ¥ç¼ºå¤±çš„å…±äº«åº“ä¾èµ–é¡¹ï¼Œè¯·åœ¨ Cypress äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä½¿ç”¨ `ldd` å‘½ä»¤ã€‚ç¼ºå¤±çš„ä¾èµ–é¡¹åº”åœ¨è¾“å‡ºä¸­æ ‡è¯†ä¸ºâ€œnot foundâ€ã€‚

```text
ldd ~/.cache/Cypress/13.15.0/Cypress/Cypress
	linux-vdso.so.1 (0x00007ffe0e7db000)
	libffmpeg.so => /home/<username>/.cache/Cypress/13.15.0/Cypress/libffmpeg.so (0x0000774bc7a00000)
	libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x0000774bd26d0000)
	libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x0000774bd26cb000)
	libgobject-2.0.so.0 => /lib/x86_64-linux-gnu/libgobject-2.0.so.0 (0x0000774bd2668000)
	libglib-2.0.so.0 => /lib/x86_64-linux-gnu/libglib-2.0.so.0 (0x0000774bd251f000)
	libgio-2.0.so.0 => /lib/x86_64-linux-gnu/libgio-2.0.so.0 (0x0000774bc7e30000)
	libnss3.so => not found
  ...
```

**æç¤ºï¼š** å¦‚æœä¾èµ–é¡¹æœ‰é—®é¢˜ï¼Œè¯·ä½¿ç”¨ [Cypress Docker é•œåƒ](/app/get-started/install-cypress#Docker-Prerequisites)ã€‚è¿™äº›é•œåƒå·²é¢„å®‰è£…æ‰€æœ‰ Cypress ä¾èµ–é¡¹ã€‚

åœ¨ Ubuntu `24.04` ä¸Šï¼Œæ‚¨å¯èƒ½ä¼šæ”¶åˆ°åŒ…å«æ–‡æœ¬ `FATAL:setuid_sandbox_host.cc` çš„è‡´å‘½é”™è¯¯ï¼Œè¿™æ˜¯ç”±äºæ­¤ç‰ˆæœ¬çš„ Ubuntu ä¸­å¢åŠ äº†å®‰å…¨æ€§ã€‚è¯·å‚é˜… [Ubuntu 24.04 å‘å¸ƒè¯´æ˜](https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890) ä¸­çš„[éç‰¹æƒç”¨æˆ·å‘½åç©ºé—´é™åˆ¶](https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890#unprivileged-user-namespace-restrictions-15)éƒ¨åˆ†ï¼Œå¹¶åº”ç”¨å…¶ä¸­ä¸€ç§è§£å†³æ–¹æ³•ï¼Œä¸ºæ•´ä¸ªç³»ç»Ÿç¦ç”¨éç‰¹æƒç”¨æˆ·å‘½åç©ºé—´é™åˆ¶ï¼Œæ— è®ºæ˜¯å•æ¬¡å¯åŠ¨è¿˜æ˜¯æŒä¹…æ€§ç¦ç”¨ã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§é”™è¯¯æ¶ˆæ¯ä¸­çš„è¯´æ˜æ“ä½œï¼Œç±»ä¼¼äºï¼š

> æ‚¨éœ€è¦ç¡®ä¿ `/home/<username>/.cache/Cypress/13.15.0/Cypress/chrome-sandbox` ç”± root æ‹¥æœ‰ä¸”æ¨¡å¼ä¸º 4755ã€‚

å¹¶æ‰§è¡Œä¾‹å¦‚ï¼š

```shell
sudo chown root:root ~/.cache/Cypress/13.15.0/Cypress/chrome-sandbox
sudo chmod +4755 ~/.cache/Cypress/13.15.0/Cypress/chrome-sandbox
```

æ‚¨å¯ä»¥é€šè¿‡è®¾ç½® [ç¯å¢ƒå˜é‡ ELECTRON_ENABLE_LOGGING](https://www.electronjs.org/docs/api/command-line-switches) æŸ¥çœ‹ Electron çš„è¯¦ç»†æ—¥å¿—æ¶ˆæ¯ã€‚

**æ³¨æ„ï¼š** è¯¦ç»†çš„ Electron æ—¥å¿—å¯èƒ½ä¼šæ˜¾ç¤ºä»ç„¶å…è®¸ Cypress æ­£å¸¸å·¥ä½œçš„è­¦å‘Šã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å¿½ç•¥ä»¥ä¸‹ä¸è“ç‰™ç›¸å…³çš„è­¦å‘Šï¼š

> WARNING:bluez_dbus_manager.cc

```text
ELECTRON_ENABLE_LOGGING=true ~/.cache/Cypress/13.15.0/Cypress/Cypress --smoke-test --ping=101

DevTools listening on ws://127.0.0.1:33161/devtools/browser/1f8a2d15-ea42-403f-8eb4-757f1a9d0b25
[3959:1005/201139.970068:WARNING:bluez_dbus_manager.cc(247)] Floss manager not present, cannot set Floss enable/disable.
çœ‹èµ·æ¥æ‚¨æ­£åœ¨ç›´æ¥è¿è¡Œ Cypress äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

è¿™ä¸æ˜¯æ¨èçš„æ–¹æ³•ï¼ŒCypress å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚

è¯·å®‰è£… cypress NPM åŒ…å¹¶æŒ‰ç…§æ­¤å¤„çš„è¯´æ˜æ“ä½œï¼š

https://on.cypress.io/install-cypress
101
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡è®¾ç½® [ç¯å¢ƒå˜é‡ `DEBUG=cypress:*`](#Print-DEBUG-logs) æŸ¥çœ‹ Cypress è°ƒè¯•æ—¥å¿—ã€‚

```text
$ DEBUG=cypress:* ~/.cache/Cypress/13.15.0/Cypress/Cypress --smoke-test --ping=101
  cypress:snapshot:info Caching 3374, defining 4217 modules! Using cache +0ms
  cypress:snapshot:debug initializing packherd require +0ms
  cypress:server:performance-benchmark elapsed time at v8-snapshot-startup-time: 204.65ms +0ms
  cypress:server:appdata path: /home/<username>/.config/Cypress/cy/production/browsers +0ms
  cypress:server appending default switches for electron: [
  cypress:server   { name: '--test-type' },
  ...
  cypress:server   { name: '--enable-precise-memory-info' }
  cypress:server ] +0ms
  cypress:server:cypress starting cypress with argv [ '/home/<username>/.cache/Cypress/13.15.0/Cypress/Cypress', '--smoke-test', '--ping=101' ] +0ms
  ...
  cypress:server:cypress running Electron currently +13ms
101
  cypress:server:cypress about to exit with code 0 +18ms
  cypress:server:browsers browsers.kill called with no active instance +0ms
```

å¦‚æœå†’çƒŸæµ‹è¯•æ²¡æœ‰æ˜¾ç¤ºç‰¹å®šé”™è¯¯ä½†ä»ç„¶å´©æºƒï¼Œè¯·å°è¯•æ‰“å° Electron å´©æºƒå †æ ˆä»¥æ›´å¥½åœ°å®šä½é—®é¢˜ï¼š

```shell
ELECTRON_ENABLE_STACK_DUMPING=1 npx cypress verify
...
Received signal 11 SEGV_MAPERR ffffffb27e8955bb
#0 0x55c6389f83d9 (/home/<username>/.cache/Cypress/13.15.0/Cypress/Cypress+0x35d13d8)
r8: 0000000000000000  r9: 00007ffcf0387c80 r10: 00007ffcf0387bd8 r11: 000000000000000e
r12: 00007ffcf0387d2c r13: 00007f3ea737b720 r14: ffffffb27e89558b r15: 00007f3ea8974200
di: 0000000000000000  si: 0000000000000020  bp: 0000000000000000  bx: 0000004f2f375580
dx: 0000000000000001  ax: 0000000000000030  cx: 0000000000000001  sp: 00007ffcf0387d00
ip: 00007f3ea89582dd efl: 0000000000010246 cgf: 002b000000000033 erf: 0000000000000005
trp: 000000000000000e msk: 0000000000000000 cr2: ffffffb27e8955bb
[end of stack trace]
Calling _exit(1). Core file will not be generated.
```

### ä¿®è¡¥ Cypress

Cypress é™„å¸¦äº†ä¸€ä¸ª npm CLI æ¨¡å—ï¼Œç”¨äºè§£æå‚æ•°ã€å¯åŠ¨ Xvfb æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œç„¶åæ‰“å¼€ Cypressã€‚

å¦‚æœæ‚¨åœ¨å½“å‰ç‰ˆæœ¬çš„ Cypress ä¸­é‡åˆ°é”™è¯¯ï¼Œå¯ä»¥é€šè¿‡åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä¿®è¡¥ Cypress æ¥å®ç°ä¸´æ—¶ä¿®å¤ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

1. å®‰è£… [patch-package](https://github.com/ds300/patch-package)ã€‚
2. åœ¨å®‰è£… npm åŒ…åï¼Œåœ¨æ‚¨çš„ CI é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªä¿®è¡¥æ­¥éª¤ã€‚

```yaml
- run: npm ci
- run: npx patch-package
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨å®‰è£…åé˜¶æ®µåº”ç”¨è¡¥ä¸ã€‚ä¾‹å¦‚ï¼Œåœ¨æ‚¨çš„ `package.json` ä¸­ï¼Œæ‚¨å¯ä»¥æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "scripts": {
    "postinstall": "patch-package"
  }
}
```

3. åœ¨ `node_modules/cypress` ä¸­çš„æœ¬åœ° node_modules æ–‡ä»¶å¤¹ä¸­ç¼–è¾‘å¯¼è‡´é—®é¢˜çš„è¡Œã€‚
4. è¿è¡Œ `npx patch-package cypress` å‘½ä»¤ã€‚æ­¤å‘½ä»¤å°†åˆ›å»ºä¸€ä¸ªä»¥å½“å‰ Cypress ç‰ˆæœ¬å‘½åçš„æ–°æ–‡ä»¶ï¼Œä¾‹å¦‚ `patches/cypress+13.15.0.patch`ã€‚

```css
npx patch-package cypress
patch-package 8.0.0
â€¢ åˆ›å»ºä¸´æ—¶æ–‡ä»¶å¤¹
â€¢ ä½¿ç”¨ npm å®‰è£… cypress@13.15.0
â€¢ æ¯”è¾ƒæ‚¨çš„æ–‡ä»¶ä¸å¹²å‡€æ–‡ä»¶
âœ” åˆ›å»ºæ–‡ä»¶ patches/cypress+13.15.0.patch

ğŸ’¡ cypress åœ¨ GitHub ä¸Šï¼è¦åŸºäºæ‚¨çš„è¡¥ä¸èµ·è‰ issueï¼Œè¯·è¿è¡Œ

    npx patch-package cypress --create-issue
```

5. å°†æ–°çš„ `patches` æ–‡ä»¶å¤¹æäº¤åˆ° gitã€‚

:::info

å¦‚æœæ‚¨æ‰¾åˆ°äº†é”™è¯¯çš„ä¿®è¡¥ç¨‹åºï¼Œè¯·åœ¨ç›¸å…³çš„ Cypress GitHub issue ä¸­æ·»åŠ è¯„è®ºè§£é‡Šæ‚¨çš„è§£å†³æ–¹æ³•ã€‚è¿™å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«åœ°å‘å¸ƒå®˜æ–¹ä¿®å¤ç¨‹åºã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŸºäºè¡¥ä¸å†…å®¹åˆ›å»ºæ–° issueã€‚

```shell
npx patch-package cypress --create-issue
```

:::