---
title: 'clearAllLocalStorage | Cypress 文档'
description: '在 Cypress 中清除所有 localStorage 数据'
sidebar_label: 'clearAllLocalStorage'
---

<ProductHeading product="app" />

# clearAllLocalStorage

清除测试交互过的所有源的
[`localStorage`](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
数据。

:::caution

Cypress 会在每次测试 _之前_ 自动清除所有本地存储，以防止在启用
[测试隔离](/app/core-concepts/writing-and-organizing-tests#Test-Isolation)
时状态在测试之间共享。除非你需要在单个测试中清除 localStorage 或测试隔离被禁用，否则不应使用此命令。

:::

## 语法

```javascript
cy.clearAllLocalStorage()
cy.clearAllLocalStorage(options)
```

### 用法

<Icon name="check-circle" color="green" /> **正确用法**

```javascript
cy.clearAllLocalStorage()
```

### 参数

<Icon name="angle-right" /> **options _(Object)_**

传入一个选项对象来更改 `cy.clearAllLocalStorage()` 的默认行为。

| 选项  | 默认值 | 描述                                                                         |
| ----- | ------ | --------------------------------------------------------------------------- |
| `log` | `true` | 在 [命令日志](/app/core-concepts/open-mode#Command-Log) 中显示该命令 |

<HeaderYields />

- `cy.clearAllLocalStorage()` 返回 `null`。

## 规则

<HeaderRequirements />

- `cy.clearAllLocalStorage()` 需要链式调用 `cy`。

<HeaderAssertions />

- `cy.clearAllLocalStorage()` 不能链式调用任何断言。

<HeaderTimeouts />

- `cy.clearAllLocalStorage()` 不会超时。

## 另请参阅

- [`cy.clearAllSessionStorage()`](/api/commands/clearallsessionstorage)
- [`cy.clearCookies()`](/api/commands/clearcookies)
- [`cy.clearLocalStorage()`](/api/commands/clearlocalstorage)
- [`cy.getAllLocalStorage()`](/api/commands/getalllocalstorage)
- [`cy.getAllSessionStorage()`](/api/commands/getallsessionstorage)