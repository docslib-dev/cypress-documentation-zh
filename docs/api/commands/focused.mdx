---
title: 'focused | Cypress 文档'
description: 获取当前在Cypress中获得焦点的DOM元素。
sidebar_label: focused
slug: /api/commands/focused
---

<ProductHeading product="app" />

# focused

获取当前获得焦点的DOM元素。

## 语法

```javascript
cy.focused()
cy.focused(options)
```

### 用法

<Icon name="check-circle" color="green" /> **正确用法**

```javascript
cy.focused() // 返回当前获得焦点的元素
```

### 参数

<Icon name="angle-right" /> **options _(Object)_**

传入一个选项对象来改变`cy.focused()`的默认行为。

| 选项      | 默认值                                                           | 描述                                                                         |
| --------- | ----------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| `log`     | `true`                                                            | 在[命令日志](/app/core-concepts/open-mode#Command-Log)中显示该命令 |
| `timeout` | [`defaultCommandTimeout`](/app/references/configuration#Timeouts) | 在[超时](#Timeouts)前等待`cy.focused()`解析的时间           |

<HeaderYields />

- `cy.focused()`返回找到的DOM元素。
- `cy.focused()`是一个查询命令，可以安全地链式调用其他命令。

## 示例

### 无参数

#### 获取获得焦点的元素

```javascript
cy.focused().then(($el) => {
  // 对$el进行操作
})
```

#### 对获得焦点的元素执行blur操作

```javascript
cy.focused().blur()
```

#### 对获得焦点的元素进行断言

```javascript
cy.focused().should('have.attr', 'name', 'username')
```

## 规则

<HeaderRequirements />

- `cy.focused()`需要链式调用一个返回DOM元素的命令。

<HeaderAssertions />

- `cy.focused()`会自动[重试](/app/core-concepts/retry-ability)直到元素[存在于DOM中](/app/core-concepts/introduction-to-cypress#Implicit-Assertions)。
- `cy.focused()`会自动[重试](/app/core-concepts/retry-ability)直到所有链式断言通过。

<HeaderTimeouts />

- `cy.focused()`可能会因等待元素[存在于DOM中](/app/core-concepts/introduction-to-cypress#Implicit-Assertions)而超时。
- `cy.focused()`可能会因等待添加的断言通过而超时。

## 命令日志

**_对获得焦点的元素进行断言_**

```javascript
cy.focused().should('have.attr', 'name').and('eq', 'num')
```

以上命令将在命令日志中显示为：

<DocsImage
  src="/img/api/focused/make-assertion-about-focused-element.png"
  alt="命令日志 focused"
/>

当点击命令日志中的`focused`命令时，控制台会输出以下内容：

<DocsImage
  src="/img/api/focused/currently-focused-element-in-an-input.png"
  alt="控制台 focused"
/>

## 另请参阅

- [`.blur()`](/api/commands/blur)
- [`.focus()`](/api/commands/focus)