---
title: 记录的测试运行
description: 在Cypress Cloud中查看和分析记录的测试运行。
sidebar_position: 30
---

<ProductHeading product="cloud" />

# 记录的测试运行

:::info

##### <Icon name="question-circle" color="#4BBFD2" /> 您将学习到

- 如何在Cypress Cloud中查看和分析记录的测试运行
- 如何取消、归档和恢复已归档的运行
- 如何在Cypress App中查看和分析记录的测试运行

:::

记录的测试运行捕获了您的测试运行结果。这个信息丰富的视图的每个特定区域将在下面描述。

:::tip

<Icon name="check-circle" color="green" /> 如果您尚未设置项目进行记录，[请阅读此处](/cloud/get-started/setup#Setup)。

:::

## 最新运行

项目入口点提供了您最近运行的高级概览。此视图显示了可分页的运行摘要，可进行过滤，并可在右上角手动刷新。

## 运行详情

导航到特定运行时，您将看到运行详情页面。该页面包含一个通用标题和四个标签子页面：[概览](#Overview-tab)、[测试结果](#Test-Results-tab)、[规范文件](#Specs-tab)和[错误](#Errors-tab)。

<DocsImage src="/img/cloud/runs/run-details-page.png" alt="运行详情页面" />

### 运行标题

标题的左侧是关于运行的重要元数据，包括git作者和分支（[如果可用](/app/continuous-integration/overview#Git-information)）、运行时间和持续时间、CI数据等。点击此部分右侧的三个点会显示更多元数据，包括使用的浏览器和操作系统、Cypress版本以及哪些[智能编排](/cloud/features/smart-orchestration/overview)设置处于活动状态。

标题的右侧是一组指示器，显示此运行中[不稳定](/cloud/features/flaky-test-management)、跳过、待定、通过和失败的测试数量。点击其中任何一个将带您到[测试结果](#Test-Results-tab)标签页，并按点击的状态过滤结果。

<DocsImage
  src="/img/cloud/runs/run-details-header.png"
  alt="运行详情标题"
/>

### 运行中面板

如果所选运行当前正在进行中，将在运行标题下方显示一个额外的面板，其中包含进度指示器和[取消运行](#Run-cancellation)的操作链接。

<DocsImage
  src="/img/cloud/runs/run-in-progress-panel.png"
  alt="运行中面板"
/>

## 概览标签页

默认情况下，运行详情页面将打开到概览标签页。在这里，您可以看到我们认为最关键的运行指标。

### 运行持续时间

此图表可视化您的测试运行时间与之前运行的比较，当前选定的运行会高亮显示。运行状态由条形图的颜色表示，可以通过图表右上角的下拉菜单按状态进行过滤。将鼠标悬停在运行上会显示一个弹出窗口，其中包含更多信息。

在运行持续时间图表的底部，您可能会看到一个或多个蓝色框。这些表示配置设置更改的时间点，可能影响测试性能。将鼠标悬停在它们上会显示所做的具体更改。

<DocsImage src="/img/cloud/runs/run-duration.png" alt="运行持续时间面板" />

### 建议

在运行持续时间图表的右侧，您可能会看到一个包含我们建议的框，用于改进测试套件的性能。我们的[智能编排](/cloud/features/smart-orchestration/overview)功能可以帮助您运行更少、更相关和更快的测试，具体取决于您的测试套件的细节。

我们用于计算这些建议细节的算法是一个复杂且非常详细的测试套件模型，但基本上我们会查看您最近的100个测试，并模拟这些测试运行在不同智能编排配置下的表现。从那里，我们计算出一个数字，总计模拟测试与实际测试之间的持续时间差异。

<DocsImage src="/img/cloud/runs/recommendations.png" alt="建议" />

### 待审查测试

待审查测试面板将不同的测试结果整合到一个视图中，重点关注产生最相关结果的规范文件。

它按以下顺序排列结果：

- **失败** - 当测试或与测试关联的钩子中发生失败时
- **不稳定** - 当测试在最终通过之前失败了一次或多次尝试时
- **已修改** - 当测试体与之前记录的测试相比发生了变化时

该面板按规范文件分解这些测试，并有一个徽章清楚地表明结果被认为值得注意的原因。通过鼠标悬停访问运行工件，快速暴露[测试回放](/cloud/features/test-replay)、[截图](/app/guides/screenshots-and-videos#Screenshots)、[视频](/app/guides/screenshots-and-videos#Videos)和此测试生成的CI日志。

点击特定测试将打开[测试详情侧边栏](#Test-detail-sidebar)。

<DocsImage src="/img/cloud/runs/tests-for-review.png" alt="待审查测试" />

## 测试结果标签页

在测试结果标签页上，可以浏览和检查整个测试运行的详细结果。页面顶部有下拉菜单，供您按各种指标（如[测试状态](/app/core-concepts/writing-and-organizing-tests#Test-statuses)或[不稳定测试](/cloud/features/flaky-test-management)）排序和过滤结果。

<DocsImage src="/img/cloud/runs/test-results.png" alt="测试结果标签页" />

## 规范文件标签页

另一种查看运行的方式是“放大”到规范文件级别，这是规范文件标签页的目的。请记住，规范文件是一个可以包含一个或多个测试的单个文件。

此标签页允许您查看收集到[运行组](/cloud/features/smart-orchestration/parallelization#Grouping-test-runs)中的规范结果。您可以使用右上角的视图按钮栏在视图之间切换，重点关注运行顺序、规范持续时间或[并行化](/cloud/features/smart-orchestration/parallelization)（每台机器）。

在所有这些视图中，可以点击规范结果以在测试结果标签页中打开这些测试。

<DocsImage
  src="/img/cloud/runs/specs-view-switcher.png"
  alt="规范文件视图切换器"
/>

### 时间线视图

时间线视图将您的规范文件相对于彼此运行的时间绘制成图表。这在您想要可视化测试如何在[并行](/cloud/features/smart-orchestration/parallelization)中运行时特别有用。

<DocsImage src="/img/cloud/runs/specs-timeline.png" alt="规范文件时间线视图" />

### 条形图视图

条形图视图绘制了每个规范文件的长度。此视图有助于确定哪些规范文件占用了大量运行时间，可以拆分或简化。

<DocsImage
  src="/img/cloud/runs/specs-bar-chart.png"
  alt="规范文件条形图视图"
/>

### 机器视图

如果您的测试是并行化的，机器视图显示每个并行进程上运行了哪些以及多少规范文件。此视图让您看到工作是如何分配的，并为增加或减少CI[并行化](/cloud/features/smart-orchestration/parallelization)容量的决策提供硬数据。

<DocsImage src="/img/cloud/runs/specs-machines.png" alt="规范文件机器视图" />

## 错误标签页

错误标签页简单地聚合了此运行期间测试中抛出的任何错误。展开特定错误会提供更多信息和指向[测试详情侧边栏](#Test-detail-sidebar)的链接。

<DocsImage src="/img/cloud/runs/errors.png" alt="错误标签页" />

## 测试详情侧边栏

运行中的每个测试的所有细节都在一个特殊的侧边栏中展示。此侧边栏可能包含下面详述的所有或部分部分。此外，它还可能包含运行时环境的详细信息、随时间变化的失败和不稳定率、性能分解、测试代码本身的列表等。

### 标题

包含失败测试的标题及其所在的规范文件。还可能具有指示测试状态或其他相关信息的标签，以及快捷方式以在集成的项目管理系统上提出问题或查看工件。

<DocsImage src="/img/cloud/runs/sidebar-header.png" alt="测试侧边栏标题" />

### 测试意图摘要 :sparkles:

测试意图摘要是Cypress Cloud的一项AI功能。它是AI生成的测试目的摘要，帮助您理解测试的目标，而无需查看每个命令或观看整个测试回放。这使您可以立即专注于您的目标，无论是审查测试还是调试问题，节省您的时间。

<DocsImage
  src="/img/cloud/runs/sidebar-test-intent-summary.png"
  alt="测试详情侧边栏AI生成的测试意图摘要"
/>

### 尝试和错误

每次测试尝试的堆栈跟踪、错误消息和失败点代码帧。查看或调试每次特定尝试的工件。

<DocsImage
  src="/img/cloud/runs/sidebar-errors.png"
  alt="测试侧边栏尝试和错误"
/>

### 先前运行

此测试先前运行的图形历史，指示当前分支上的失败和成功。

<DocsImage
  src="/img/cloud/runs/sidebar-previous-runs.png"
  alt="测试侧边栏先前运行"
/>

### 工件

此测试生成的[截图](/app/guides/screenshots-and-videos#Screenshots)、[视频](/app/guides/screenshots-and-videos#Videos)和CI日志。失败期间拍摄的截图和使用[`cy.screenshot()`](/api/commands/screenshot)命令拍摄的截图都会显示在这里。视频可以下载。

<DocsImage
  src="/img/cloud/runs/sidebar-artifacts.png"
  alt="测试侧边栏工件"
/>

来自Cypress标准输出的CI日志包括基于您设置的[报告器](/app/tooling/reporters)的每个规范文件的测试详细信息和摘要。默认情况下是`spec`报告器。

<DocsImage
  src="/img/cloud/runs/standard-output-of-recorded-test-run.png"
  alt="标准输出"
/>

### 测试代码历史

显示包含当前测试更改的git提交，提供对此测试开发的见解，帮助诊断测试失败并跟踪回归。展开特定提交会显示该时间点的差异。

请注意，差异基于**转译后**的代码状态，因为我们目前不收集源映射。

<DocsImage
  src="/img/cloud/runs/sidebar-test-code-history.png"
  alt="测试侧边栏代码历史"
/>

## 取消运行

您可以从Cypress Cloud取消当前正在进行的运行。只有项目成员才能取消运行。

### 取消运行

- 从运行列表中点击正在进行的运行
- 点击运行详情页面右上角的<Icon name="ban" /> 取消运行\*\*
- 点击**是，取消此运行**以确认。**注意：此操作无法撤销**

### 取消运行时会发生什么？

- 运行状态将更新为已取消。
- 运行详情页面上将显示一条消息，显示取消时间和取消运行的用户。
- 如果启用了[GitHub集成](/cloud/integrations/source-control/github)，运行将在关联的GitHub拉取请求中显示为**已取消**。
- 任何记录到完成的测试将在运行详情页面中可供查看。
- 任何记录到完成的测试仍将计入您的月度测试结果限制。
- 如果您启用了分析功能，已取消的运行将出现在[随时间变化的运行](/cloud/features/analytics/project-analytics#Run-status)图表中。
- 任何对[cypress run --record](/app/references/command-line#cypress-run)的不完整调用将被标记为已取消且不会运行。
- 任何对[cypress run --record](/app/references/command-line#cypress-run)的现有调用将退出并显示如下错误。

  <DocsImage
    src="/img/cloud/runs/cancel-run-error.png"
    alt="取消运行错误"
  />

:::tip

<Icon name="check-circle" color="green" /> 请参阅我们的[自动取消](/cloud/features/smart-orchestration/run-cancellation)指南，了解如何通过`自动取消`提高开发人员解决时间、减少月度CI账单并释放CI资源。

:::

## 归档运行

已取消或处于错误状态的运行可以从Cypress Cloud归档。

### 归档运行

- 在取消或错误消息中，点击**归档此运行**。
  <DocsImage
    src="/img/cloud/runs/archive-run-within-cancelation-msg.png"
    alt="取消运行错误"
  />

### 归档运行时会发生什么？

- 归档的运行将不再显示在运行列表或[分析](/cloud/features/analytics/project-analytics)报告中。
- 归档的运行可以通过该运行的URL访问。格式为：
  `https://cloud.cypress.io/projects/{项目ID}/runs/{运行编号}`
- 任何记录到Cypress Cloud的测试仍将计入您的月度测试结果限制，即使它已被归档。

### 恢复归档的运行

- 访问归档的运行。归档的运行可以通过该运行的URL访问。格式为：
  `https://cloud.cypress.io/projects/{项目ID}/runs/{运行编号}`
- 点击<Icon name="history" /> 从归档中恢复\*\*
  <DocsImage
    src="/img/cloud/runs/restore-from-archive.png"
    alt="从归档中恢复"
  />

## Cypress App

### 规范文件

为了更深入地了解您的测试结果，有关最近运行的信息会在[Cypress app](/app/core-concepts/open-mode)中展示。您最近运行的聚合结果显示在[规范文件](/app/core-concepts/open-mode#Specs)页面上，而有关特定运行的更详细信息可以在[运行](/app/core-concepts/open-mode#Runs)页面上找到。

<DocsImage
  src="/img/app/core-concepts/open-mode/spec-explorer.png"
  alt="规范文件"
/>

### 运行

此屏幕显示最近记录到Cypress Cloud的[测试运行](#Latest-Runs)的详细信息，最新的运行显示在最前面。

[运行](/app/core-concepts/open-mode#Runs)页面使用Git显示您分支的运行。如果未找到当前分支的运行，则会显示项目中所有运行作为后备。每个运行的标题取自该更改的[git提交消息](https://www.educative.io/edpresso/git-commit-message-simply-explained)，点击它将带您到Cypress Cloud中相应的运行页面。

<DocsImage
  src="/img/app/core-concepts/open-mode/recorded-runs.jpg"
  alt="记录的运行"
/>

### 调试

[调试](/app/core-concepts/open-mode#Debug)页面允许您轻松地从Cypress app中调试失败的CI测试运行。从此页面，您可以审查、重新运行和调试记录到Cypress Cloud的失败CI测试运行 - 所有这些都无需离开Cypress app。

<DocsImage src="/img/app/core-concepts/open-mode/debug-page.png" alt="调试" />

### 通知

Cypress Cloud可以通过系统通知直接在app中通知您有关记录到您分支的测试运行。

<DocsImage
  src="/img/cloud/runs/app-notification.jpg"
  alt="macOS上的app通知"
/>

点击通知将带您到Cypress app中的[调试](#Debug)页面。

:::info

应用内通知在Cypress `v12.17.0`及以上版本中可用，需要macOS或Linux。Windows支持即将推出。

:::

#### 配置通知

要启用通知，在Cypress app中，转到设置，然后到设备设置，点击**启用桌面通知**按钮。您的系统可能会提示您允许通知。

<DocsImage
  src="/img/cloud/runs/enable-notifications.jpg"
  alt="启用通知"
/>

您可以接收以下事件的通知：

- 当记录到您当前提交的运行在Cypress Cloud中开始时
- 当记录到您当前提交的运行在Cypress Cloud中开始失败时
- 以及当记录到您当前提交的运行在Cypress Cloud中完成时，您可以自定义通知事件，以便在运行通过、失败、取消或出错时通知您。

:::note

注意：您只会收到运行在本地当前分支头所在的同一提交上的通知。

:::

点击**发送测试通知**按钮以测试通知在您的系统上是否正常工作。

#### 通知故障排除

如果您没有收到通知，请检查以下内容：

- 记录到Cypress Cloud的运行是否正在记录。
- 在您的系统设置中，确保为Cypress app启用了通知。
- 您的本地项目当前是否在测试运行记录通知所发送的git提交上。