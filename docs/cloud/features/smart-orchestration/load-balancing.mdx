---
title: 负载均衡
description: Cypress 会自动在 CI 提供商的可用机器间平衡您的测试文件。
sidebar_position: 30
---

<ProductHeading product="cloud" />

# 负载均衡

## 平衡策略

Cypress 会自动在 CI 提供商的可用机器间平衡您的测试文件。Cypress 会根据历史运行数据计算每个测试文件的分配方案，确保测试文件能以最快速度运行，无需手动配置。

随着越来越多的测试记录被上传至云端，Cypress 能更准确地预测每个测试文件的运行时长。为防止过时的历史数据影响预测结果，Cypress 不会使用与测试文件相关的陈旧运行数据。

### 测试文件时长历史分析

<DocsImage
  src="/img/app/parallelization/load-balancing.png"
  alt="测试文件时长预测"
/>

通过获取测试运行中每个测试文件的时长预估，Cypress 可以按照测试文件运行时长的降序顺序，将它们分配到可用的 CI 资源上。这种方式能让最耗时的测试优先开始，从而最小化整体测试运行时间。

:::info

时长预估会针对测试文件运行的每个浏览器单独计算。由于不同浏览器的性能特征存在差异，因此同一个测试文件在不同浏览器下的预估时长不同是完全正常的。

:::