---
title: 'Cypress的Slack集成 | Cypress文档'
description: '为您的Cypress Cloud组织和项目设置失败运行、通过运行和不稳定测试的Slack通知'
sidebar_position: 40
sidebar_label: Slack
---

<ProductHeading product="cloud" />

# Slack集成

:::info

##### <Icon name="question-circle" color="#4BBFD2" /> 您将学习到

- 如何安装Cypress的Slack集成
- 如何配置失败运行、通过运行和不稳定测试的Slack通知
- 如何在组织和项目级别管理Slack通知

:::

Cypress的Slack集成提供Cypress测试的实时结果，所有信息集中在一处 - 提升远程协作效率，并让测试失败、不稳定测试、[UI覆盖率](/ui-coverage/get-started/introduction)和[Cypress无障碍测试](/accessibility/get-started/introduction)结果获得更广泛的可见性。

Cypress的Slack集成允许您：

- 通过即时向需要可见性的团队展示Cypress结果，改善跨团队协作
- 在发布新产品或功能前确认关键测试已通过
- 减少发现失败测试所需的时间

<DocsVideo
  src="https://www.youtube.com/embed/hnDPz7dognY?si=PRRy4f5n6f1jzfVJ"
  title="Slack上的Cypress应用"
/>

## 开始使用

**您需要准备以下三件事：**

- 一个Cypress Cloud账户
- 配置Cypress Cloud集成的权限 - 您必须是Cypress Cloud组织的**管理员**或**所有者**
- 授权Slack应用的权限 - 默认情况下，Slack允许**任何工作区成员**授权应用，但工作区所有者可能要求在安装前审批应用。详情请参阅[Slack帮助文章](https://slack.com/help/articles/202035138-Add-apps-to-your-Slack-workspace)

## 安装Slack上的Cypress应用

1. 在Cypress Cloud中，访问您希望与Slack集成的组织的**集成**页面
2. 点击**Slack**部分的**启用**按钮
3. 将显示一个弹出窗口，请求Cypress访问工作区的权限
4. 批准应用权限后，您可以选择Slack**工作区**和**频道**与安装关联

现在Cypress会将您组织中所有项目的运行结果发布到指定的Slack频道。

## Slack配置

Slack消息可以根据团队需求进行定制。一些选项包括：

- 将结果发送到一个或多个公开或私有的Slack频道，或直接发送给特定用户
- 设置运行结果发布的时间和位置的通知偏好
- 在组织级别和/或项目级别配置，以支持多个团队在单独项目上工作

### 组织级与项目级配置

以下描述如何为组织和项目配置Slack。

#### 组织设置

为组织配置Slack：

1. 导航到您希望配置的组织的**集成**页面
2. 在**Slack**集成中，点击**配置**
3. 配置应用

#### 项目设置

为项目配置Slack：

1. 导航到您希望配置的项目的**项目设置**页面
2. 在**项目设置**页面中点击**集成**标签
3. 在**Slack集成**部分配置应用

### Slack频道

您可以让Cypress Cloud将运行结果发布到特定频道。添加频道：

1. 导航到**Slack**配置页面
2. 点击**添加Slack频道**
3. 您将看到一个弹出窗口，允许您选择与组织关联的频道或个人
4. 搜索并选择消息应发布到的频道

Cypress Cloud将开始将运行结果发布到该频道。

### 直接消息

您可以让Cypress Cloud将运行结果作为直接消息发送给单个用户。发送直接消息：

1. 导航到**Slack**配置页面
2. 点击**添加Slack频道**
3. 您将看到一个弹出窗口，允许您选择与组织关联的频道或个人
4. 搜索并选择消息应发送到的用户

Cypress Cloud将开始向该用户发送运行结果。

## 通知偏好

默认情况下，Cypress Cloud仅针对失败的运行向每个配置的频道发布Slack消息。但您可以选择以下任意组合的偏好：

- **失败的运行**：将通知状态为_失败_的运行
- **通过的运行**：将通知状态为_通过_的运行
- **不稳定的测试**：将通知识别出_不稳定_测试的运行

设置通知偏好：

1. 导航到Slack配置页面
2. 为每个频道选择通知偏好

### 按标签或运行组过滤通知

在项目级别配置时，您可以根据运行记录时使用的[标签](/app/references/command-line#cypress-run-tag-lt-tag-gt)或[组](/app/references/command-line#cypress-run-group-lt-name-gt)过滤发布到Slack的通知。这有助于仅针对某些运行（如预发布或发布环境）发布通知。

1. 导航到**Slack**配置页面
2. 在**标签**下，为所需集成选择**标签**下拉菜单，并选择要过滤的标签。如果选择多个标签，只要运行关联了任一标签，就会发送Slack消息
3. 在**运行组**下，为所需集成选择**运行组**下拉菜单，并选择要过滤的运行组。如果选择多个运行组，只要运行关联了任一运行组，就会发送Slack消息

如果同时选择了标签和运行组，只有同时满足这两个条件的运行才会触发向Slack发送消息。

### 静音频道

如果您希望Cypress Cloud暂时停止向某个频道发布Slack消息，可以**静音**该频道。这允许您轻松暂停和恢复特定频道的通知，而不会丢失已配置的设置。

1. 导航到**Slack**配置页面
2. 切换每个要静音的Slack频道的**活跃**选择器

### 移除Slack频道

您可以让Cypress Cloud停止向某个频道发布通知。您也可以移除所有Slack频道，以完全禁用全局通知，转而使用项目级通知。

1. 导航到**Slack**配置页面
2. 在**操作**下，为每个要删除的Slack频道选择**删除**

## 移除集成

您可以从工作区完全移除Cypress的Slack集成。这将从您的工作区移除`@cypress`机器人，并删除您在Cypress Cloud中设置的所有Slack配置。**此操作不可撤销**，但未来您可以重新安装Cypress的Slack集成。

1. 导航到已安装集成的组织的**集成**页面
2. 在**Slack集成**中，点击**配置**
3. 点击**卸载Slack集成**以卸载Cypress的Slack集成

## 安全与合规

请查阅我们的[隐私政策](https://on.cypress.io/privacy-policy)，了解Slack上的Cypress应用如何收集和管理您的信息。

### 授权

授权后，Cypress可以：

- 查看用户身份信息
- 向Slack中的特定频道和直接消息对话发布消息
- 在消息中显示cloud.cypress.io URL的预览
- 查看来自cloud.cypress.io的URL

### 应用权限范围

- 用户令牌范围：[`links:read`](https://api.slack.com/scopes/links:read), [`links:write`](https://api.slack.com/scopes/links:write)
- 机器人令牌范围：[`chat:write`](https://api.slack.com/scopes/chat:write), [`incoming-webhook`](https://api.slack.com/scopes/incoming-webhook), [`links:read`](https://api.slack.com/scopes/links:read), [`links:write`](https://api.slack.com/scopes/links:write)